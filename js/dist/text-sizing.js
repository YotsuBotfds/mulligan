import*as storage from"./storage.js";const TEXT_SIZES={normal:{label:"A",fontSize:"100%",level:0},medium:{label:"A+",fontSize:"112.5%",level:1},large:{label:"A++",fontSize:"125%",level:2},xlarge:{label:"A+++",fontSize:"150%",level:3}},STORAGE_KEY="text-size-level",DEFAULT_LEVEL=0;function applySizeLevel(e){const t=Math.max(0,Math.min(3,e)),n=Object.keys(TEXT_SIZES)[t],i=TEXT_SIZES[n];document.documentElement.style.fontSize=i.fontSize,storage.set(STORAGE_KEY,t),updateButtonStates(t)}function getCurrentLevel(){return storage.get(STORAGE_KEY,0)}function increaseSize(){const e=getCurrentLevel();e<3&&applySizeLevel(e+1)}function decreaseSize(){const e=getCurrentLevel();e>0&&applySizeLevel(e-1)}function updateButtonStates(e){const t=document.getElementById("text-size-decrease"),n=document.getElementById("text-size-increase"),i=document.getElementById("text-size-display");if(t&&(t.disabled=0===e,t.setAttribute("aria-disabled",0===e)),n&&(n.disabled=3===e,n.setAttribute("aria-disabled",3===e)),i){const t=Object.keys(TEXT_SIZES)[e];i.textContent=TEXT_SIZES[t].label,i.setAttribute("aria-label",`Text size: ${t}`)}}export function init(){applySizeLevel(getCurrentLevel());const e=document.getElementById("text-size-decrease"),t=document.getElementById("text-size-increase");e&&e.addEventListener("click",decreaseSize),t&&t.addEventListener("click",increaseSize)}