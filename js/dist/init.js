document.getElementById("utils-toggle-btn").addEventListener("click",function(e){e.stopPropagation();var t=document.getElementById("utils-dropdown").classList.toggle("open");this.setAttribute("aria-expanded",t)}),document.addEventListener("click",function(){var e=document.getElementById("utils-dropdown");e&&e.classList.remove("open");var t=document.getElementById("utils-toggle-btn");t&&t.setAttribute("aria-expanded","false")}),document.getElementById("more-filters-btn").addEventListener("click",function(){var e=document.getElementById("filter-overflow").classList.toggle("open");this.setAttribute("aria-expanded",e),this.textContent=e?"Less ▴":"More ▾"}),document.addEventListener("keydown",function(e){if("r"===e.key&&!e.ctrlKey&&!e.metaKey&&"INPUT"!==document.activeElement.tagName){var t=document.getElementById("random-guide-btn");t&&t.click()}}),document.getElementById("btn-export").addEventListener("click",function(){window.showExportModal&&window.showExportModal()}),document.getElementById("btn-import").addEventListener("click",function(){window.importProgress&&window.importProgress()}),document.getElementById("offline-manager-btn").addEventListener("click",function(){window.offlineManagerUI&&window.offlineManagerUI.openModal()}),document.getElementById("achievements-btn").addEventListener("click",function(){window.showAchievementsModal&&window.showAchievementsModal()}),document.getElementById("btn-reset").addEventListener("click",function(){window.resetProgress&&window.resetProgress()}),document.getElementById("achievements-close-btn").addEventListener("click",function(){window.closeAchievementsModal&&window.closeAchievementsModal()});