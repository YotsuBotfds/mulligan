let banner=null,hideTimeout=null;function createBanner(){const e=document.createElement("div");e.id="offline-banner-container";const n=document.createElement("div");n.id="offline-banner",n.className="offline-banner",n.setAttribute("role","status"),n.setAttribute("aria-live","assertive"),n.setAttribute("aria-label","Connection status");const t=document.createElement("span");return t.textContent="ðŸ“¡ Offline Mode - All cached guides available",n.appendChild(t),e.appendChild(n),{container:e,banner:n}}function showOfflineBanner(){if(banner)return;const{container:e,banner:n}=createBanner();banner=n,document.body.insertBefore(e,document.body.firstChild),banner.offsetWidth,banner.classList.add("visible")}function hideOfflineBanner(){banner&&(hideTimeout&&(clearTimeout(hideTimeout),hideTimeout=null),banner.textContent="Back online",banner.classList.remove("offline-banner"),banner.classList.add("online-banner","online"),banner.setAttribute("aria-label","Back online"),hideTimeout=setTimeout(()=>{const e=banner.closest("#offline-banner-container");e&&e.remove(),banner=null,hideTimeout=null},3e3))}function handleOnline(){hideOfflineBanner()}function handleOffline(){showOfflineBanner()}export function init(){window.addEventListener("online",handleOnline),window.addEventListener("offline",handleOffline),navigator.onLine||showOfflineBanner()}export function destroy(){window.removeEventListener("online",handleOnline),window.removeEventListener("offline",handleOffline),hideTimeout&&clearTimeout(hideTimeout);const e=document.getElementById("offline-banner-container");e&&e.remove(),banner=null}