<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8"><meta content='width=device-width, initial-scale=1.0' name="viewport"><title>Magnet Production - Offline Compendium</title><link rel="stylesheet" href="css/shared.css"><style>navnavnavnavnav</style></head><body data-theme="dark"><main role="main"><a class="skip-link" href="#main-content">Skip to main content</a><div class="container"><a class="back-link" href="../index.html" aria-label='Back to guide list'>‚Üê Back to Index</a><header><div><h1>Magnet Production</h1><div class="top-controls"><button class="theme-toggle" aria-label='Toggle dark/light theme' id="theme-toggle" title='Toggle dark/light mode'>‚òÄÔ∏è</button><button class="mark-read-btn" aria-label='Mark this guide as read' id="mark-read-btn" title='Mark this guide as completed'>Mark as Read</button></div><div class="guide-metadata"><span class="difficulty">Difficulty: ‚óè‚óè‚óè‚óè‚óã</span><span class="read-time">Estimated read: 40 minutes</span></div></div></header><nav class="toc" role="navigation" aria-label='Table of contents'><h3>Table of Contents</h3><ul><li><a href="#fundamentals">Magnetism Fundamentals</a></li><li><a href="#natural">Natural Magnets & Lodestone</a></li><li><a href="#magnetization">Magnetization Methods</a></li><li><a href="#electromagnets">Electromagnets</a></li><li><a href="#compass">Compass Construction</a></li><li><a href="#applications">Practical Applications</a></li><li><a href="#permanent">Permanent vs Temporary Magnets</a></li><li><a href="#motor">Motors & Generators</a></li><li><a href="#diagrams">Reference Diagrams</a></li><li><a href="#mistakes">Common Mistakes</a></li></ul></nav><main id="main-content" role="main"><section id="fundamentals"><h2>Magnetism Fundamentals</h2><h3>Magnetic Domains & Field Lines</h3><p>Magnetism arises from the orbital motion and spin of electrons. In most materials, electrons spin and orbit randomly, producing no net magnetic field. In magnetic materials like iron, cobalt, and nickel, electron spins can align, creating a coordinated field.</p><p>The basic concept is the "magnetic domain"‚Äîa region where millions of atoms have their electron spins aligned in the same direction. Each domain acts like a tiny magnet. In an unmagnetized piece of iron, domains point randomly, canceling each other out. In a magnetized piece, most domains point the same direction, producing a strong combined field.</p><h3>Magnetic Field Lines</h3><p>Magnetic fields are visualized as invisible lines of force flowing from the north pole to the south pole. Key properties:</p><ul style='margin-left: 20px; margin-bottom: 15px;'><li><strong>Direction:</strong> Lines always flow from north to south outside the magnet (inside, they flow south to north)</li><li><strong>Concentration:</strong> Denser field lines indicate stronger field</li><li><strong>Visualization:</strong> Iron filings sprinkled on paper above a magnet align with field lines, making them visible</li><li><strong>Strength:</strong> Field strength decreases with distance from the magnet</li></ul><h3>Magnetic Poles</h3><p>Every magnet has two poles:</p><ul style='margin-left: 20px; margin-bottom: 15px;'><li><strong>North Pole:</strong> Where field lines exit the magnet (and enter inside)</li><li><strong>South Pole:</strong> Where field lines enter the magnet (and exit inside)</li><li><strong>Attraction:</strong> Opposite poles (N-S) attract each other</li><li><strong>Repulsion:</strong> Like poles (N-N or S-S) repel each other</li><li><strong>Cannot Separate:</strong> Cutting a magnet in half produces two new magnets, each with N and S poles</li></ul><h3>Magnetic Force & Gradient</h3><p>The force on a magnetic material depends not just on field strength but on field gradient (how quickly it changes over distance). A strong, uniform field exerts less force than a weaker but highly non-uniform field. This is why electromagnets with shaped pole pieces (producing gradients) are effective for picking up metal.</p><p>Magnetic force falls off with distance. For a simple dipole magnet:</p><ul style='margin-left: 20px; margin-bottom: 15px;'><li>Force ‚àù 1/r‚Å¥ (drops dramatically with distance)</li><li>Practical range for hand-sized magnets: 5-10cm for strong effects, up to 30cm for weak effects</li></ul></section><section id="natural"><h2>Natural Magnets & Lodestone</h2><h3>Magnetite: The Magnetic Iron Ore</h3><p>Magnetite (Fe‚ÇÉO‚ÇÑ) is an iron oxide mineral that is naturally magnetic. It has been used as a magnet for thousands of years. The magnetic properties arise from iron atoms in the crystal structure that align with the Earth's magnetic field.</p><p><strong>Identification of Magnetite:</strong></p><ul style='margin-left: 20px; margin-bottom: 15px;'><li><strong>Color:</strong> Black or dark gray, very dark metallic luster</li><li><strong>Streak:</strong> Black streak on white ceramic (all iron ores do this)</li><li><strong>Weight:</strong> Heavy for its size‚Äîmagnetite is dense (5.2 g/cm¬≥, compared to 2.65 for quartz)</li><li><strong>Magnetic Test:</strong> Attracts a compass needle or iron filings strongly</li><li><strong>Shape:</strong> Octahedral or irregular crystals; rough, unpolished specimens are common</li></ul><h3>Lodestone: Natural Permanent Magnets</h3><p>Lodestone is magnetite that has been magnetized by the Earth's magnetic field over millions of years. Some magnetite deposits become magnetized; others do not. A true lodestone will:</p><ul style='margin-left: 20px; margin-bottom: 15px;'><li>Attract iron filings without any additional magnetization</li><li>Orient itself north-south when suspended (compass behavior)</li><li>Have permanent poles that don't fade quickly</li><li>Repel another lodestone's like pole</li></ul><h3>Finding Lodestone in the Field</h3><p>Lodestone deposits occur in areas with iron-rich geology. Likely locations:</p><ul style='margin-left: 20px; margin-bottom: 15px;'><li><strong>Areas with magnetite mining history:</strong> Old iron mines are good prospects</li><li><strong>Black sand deposits:</strong> Beaches or riverbeds with heavy concentrations of iron minerals (magnetite, hematite)</li><li><strong>Volcanic regions:</strong> Basaltic flows often contain magnetite</li><li><strong>Geological maps:</strong> Iron ore deposits are documented; local geological surveys help locate them</li></ul><p><strong>Testing Magnetite for Lodestone Properties:</strong></p><ol style='margin-left: 20px; margin-bottom: 15px;'><li>Crush a small sample of magnetite and see if iron filings stick to it consistently</li><li>Suspend a specimen by a thread and observe if it aligns north-south</li><li>Test if one end repels a compass needle while the other attracts it</li></ol><p>Many magnetite specimens are weakly magnetic but not true lodestones. True lodestones are rare but invaluable‚Äîthey work without external power and maintain magnetism indefinitely.</p><h3>Magnetite Quality Variation</h3><p>Not all magnetite is equally magnetic. Factors affecting strength:</p><ul style='margin-left: 20px; margin-bottom: 15px;'><li><strong>Purity:</strong> Pure Fe‚ÇÉO‚ÇÑ is stronger than samples with quartz or other mineral inclusions</li><li><strong>Crystallinity:</strong> Well-formed crystals align better than amorphous material</li><li><strong>Age & Weathering:</strong> Ancient deposits may have stronger magnetization than recent ones</li><li><strong>Past Heating:</strong> Magnetite heated above 580¬∞C (Curie point) loses magnetization; if cooled in Earth's field, it remagnetizes</li></ul><p>A high-quality lodestone specimen can be cut and shaped with diamond saws (or, traditionally, with abrasive grinding) to create useful magnet forms.</p></section><section id="magnetization"><h2>Magnetization Methods</h2><h3>Stroking with an Existing Magnet</h3><p>If you have one magnet (either natural lodestone or an old permanent magnet), you can magnetize other ferrous materials by stroking:</p><p><strong>Single-Stroke Method (Weakest):</strong></p><ol style='margin-left: 20px; margin-bottom: 15px;'><li>Take an iron or steel bar that you want to magnetize</li><li>Hold it on a table or vise</li><li>Stroke repeatedly in one direction with the N-pole of your magnet, always lifting the magnet after each stroke</li><li>Make 50-100 strokes; the iron will gradually become magnetized</li><li>The bar will acquire an N-pole at one end and S-pole at the other</li></ol><p><strong>Why this works:</strong> The stroking magnet aligns the domains in the iron bar. By always stroking in the same direction and lifting the magnet between strokes (rather than dragging back), you preferentially align domains in one direction.</p><p><strong>Double-Stroke Method (Stronger):</strong></p><ol style='margin-left: 20px; margin-bottom: 15px;'><li>Use two magnets, one in each hand</li><li>Stroke the iron bar from end to end, with one magnet's N-pole always leading, the other magnet's S-pole always following behind</li><li>The double field reinforces alignment</li><li>50 strokes with two magnets is more effective than 100 with one</li></ol><h3>Electromagnetic Coil Magnetization</h3><p>If you can generate electrical current, an electromagnet can magnetize ferrous materials rapidly and strongly:</p><p><strong>Basic Setup:</strong></p><ol style='margin-left: 20px; margin-bottom: 15px;'><li>Wind a coil around an iron rod or pipe (see Electromagnets section)</li><li>Pass electrical current through the coil</li><li>Place the material to be magnetized inside the coil</li><li>The current creates a magnetic field; materials inside are magnetized aligned with this field</li><li>Remove the material while current is still flowing for best magnetization</li></ol><p><strong>Why this works:</strong> Electrical current flowing through a coil creates a magnetic field (Ampere's law). If current is AC (alternating), domains are driven back and forth and end up randomly aligned when current stops. If current is DC (direct), domains align with the current direction and stay aligned.</p><h3>Earth's Magnetic Field Method</h3><p>In a pinch, you can magnetize iron using the Earth's magnetic field, though it's slow and weak:</p><ol style='margin-left: 20px; margin-bottom: 15px;'><li><strong>Heat the iron:</strong> Heat a piece of iron to bright red (600-700¬∞C) in a fire</li><li><strong>Align with field:</strong> Rotate it so its long axis points north-south, with one end pointing north</li><li><strong>Cool slowly:</strong> Bury in sand or ash and cool very slowly (takes hours to overnight)</li><li><strong>Result:</strong> The north-pointing end becomes a south pole (compass needle behavior), and the south-pointing end becomes a north pole (counterintuitive but correct)</li></ol><p>The cooling must be very slow while the iron is above its Curie point (580¬∞C for iron). Below this temperature, domain orientation freezes in place. Very slow cooling allows domains to align with the Earth's field.</p><p><strong>Combined Method (Strongest without Electricity):</strong></p><ol style='margin-left: 20px; margin-bottom px;'><li>Heat iron to red heat and cool slowly aligned north-south (gives a weak initial magnetization)</li><li>Once cool, stroke repeatedly with a strong lodestone magnet</li><li>The combination produces stronger magnetization than either method alone</li></ol><h3>Mechanical Shock & Vibration</h3><p>Mechanical shock can align magnetic domains slightly. This is not a reliable magnetization method but can be part of a process:</p><ul style='margin-left: 20px; margin-bottom: 15px;'><li>Hammer a heated (red-hot) iron bar that's oriented north-south; the vibrations help domain alignment</li><li>This works synergistically with Earth's field and heating/cooling</li><li>Traditional blacksmiths sometimes used this technique</li></ul><div class="warning">Do not heat steel or iron above 580¬∞C repeatedly in random orientations‚Äîthis can randomize domain orientation and permanently destroy any existing magnetization. Always cool aligned with a known magnetic field if heating above 580¬∞C.</div></section><section id="electromagnets"><h2>Electromagnets</h2><h3>Basic Principles</h3><p>An electromagnet is a magnet powered by electrical current. When current flows through a coil of wire wrapped around an iron core, the core becomes magnetized. Stop the current, and the magnetization stops (unless the core is permanent magnet material).</p><h3>Coil Winding</h3><p>The strength of an electromagnet depends on:</p><ul style='margin-left: 20px; margin-bottom: 15px;'><li><strong>Number of turns (N):</strong> More turns = stronger field. Double the turns doubles the field (roughly)</li><li><strong>Current (I):</strong> More current = stronger field. Double the current doubles the field</li><li><strong>Wire gauge:</strong> Thinner wire can fit more turns but carries less current</li><li><strong>Core material:</strong> Iron or steel cores amplify the field dramatically compared to air</li></ul><p><strong>Winding Procedure:</strong></p><ol style='margin-left: 20px; margin-bottom: 15px;'><li><strong>Prepare core:</strong> Use an iron rod or pipe, 10-25mm diameter</li><li><strong>Wrap insulation:</strong> Wrap the core with cloth or paper tape to protect wire insulation from iron surface</li><li><strong>Start winding:</strong> Fix one end of insulated copper wire at the base of the core</li><li><strong>Wind tightly:</strong> Wrap wire around core in tight, orderly coils. Work from one end toward the other</li><li><strong>Multiple layers:</strong> After one layer reaches the end, start a second layer on top</li><li><strong>Number of turns:</strong> For hand-powered systems, 500-2000 turns is typical; for battery/generator, 100-500 turns works well</li><li><strong>Wind uniformly:</strong> Even spacing gives better field uniformity</li><li><strong>Secure end:</strong> Tie off the wire at the end, securing it tightly</li></ol><p><strong>Wire Gauge Selection:</strong></p><table><tr><th scope="row">Wire Gauge (AWG)</th><th scope="row">Diameter</th><th scope="row">Max Current</th><th scope="row">Turns per Layer (25mm core)</th><th scope="row">Best Use</th></tr><tr><td>22</td><td>0.64mm</td><td>0.5A</td><td>~40 per layer</td><td>Hand crank (low power)</td></tr><tr><td>20</td><td>0.81mm</td><td>1A</td><td>~30 per layer</td><td>Small batteries</td></tr><tr><td>18</td><td>1.02mm</td><td>2A</td><td>~24 per layer</td><td>Medium batteries/generators</td></tr><tr><td>16</td><td>1.29mm</td><td>3A</td><td>~19 per layer</td><td>Generator or large battery</td></tr></table><h3>Iron Core Properties</h3><p>The iron core dramatically amplifies the magnetic field. Why?</p><ul style='margin-left: 20px; margin-bottom: 15px;'><li><strong>Permeability:</strong> Iron has high permeability (Œº ‚âà 4000), meaning it concentrates magnetic field lines efficiently</li><li><strong>Saturation:</strong> Iron can only be magnetized so much; beyond saturation, adding more current doesn't increase field strength proportionally</li><li><strong>Soft vs Hard iron:</strong> "Soft iron" (low carbon) magnetizes easily but loses magnetization quickly. "Hard steel" (high carbon) magnetizes less strongly but retains magnetization longer</li><li><strong>Lamination:</strong> For AC electromagnets, iron should be laminated (thin layers) to reduce eddy current losses</li></ul><h3>Powering Electromagnets</h3><p><strong>From Batteries:</strong></p><ul style='margin-left: 20px; margin-bottom: 15px;'><li>Direct current from batteries powers electromagnets steadily</li><li>Wire voltage = battery voltage; current = voltage / resistance</li><li>Higher voltage = stronger field (if wire resistance allows)</li><li>Typical: 6V or 12V batteries with 50-500 turn coils</li></ul><p><strong>From Hand-Crank Generator:</strong></p><ul style='margin-left: 20px; margin-bottom: 15px;'><li>A hand-crank generator produces AC or pulsed DC</li><li>For AC, the electromagnet field oscillates; metal objects are attracted regardless of polarity</li><li>For pulsed DC (better), the field pulses in one direction; more efficient</li><li>Typically produces 5-30V depending on crank speed and generator design</li></ul><p><strong>From Foot-Powered Generator:</strong></p><ul style='margin-left: 20px; margin-bottom: 15px;'><li>More consistent power than hand crank</li><li>Can sustain operation for extended periods</li><li>Bicycle dynamo or treadle-powered generator ideal</li></ul><h3>Electromagnet Applications</h3><p><strong>Metal Sorting & Separation:</strong></p><ul style='margin-left: 20px; margin-bottom: 15px;'><li>Suspend electromagnet above conveyor belt</li><li>Iron-containing materials stick to electromagnet, others fall through</li><li>Periodically switch off electromagnet to drop collected material</li></ul><p><strong>Electrical Relays & Switches:</strong></p><ul style='margin-left: 20px; margin-bottom: 15px;'><li>Small electromagnet attracts a lever or contact arm</li><li>Lever movement opens or closes another circuit</li><li>Allows small signals to control larger circuits</li></ul><p><strong>Mechanical Motion:</strong></p><ul style='margin-left: 20px; margin-bottom: 15px;'><li>Electromagnet pulls an iron slug or plunger</li><li>Plunger movement actuates machinery</li><li>Traditional telegraph sounder uses this principle</li></ul><div class="note-box"><strong>Tip:</strong> Electromagnets are weakest (least efficient) when saturated. Iron cores saturate at moderate current levels. Beyond saturation, additional current wastes energy as heat rather than creating magnetic field. For practical electromagnets, avoid pushing them beyond saturation point.</div></section><section id="compass"><h2>Compass Construction</h2><h3>Simple Water Float Compass</h3><p>The easiest compass to make uses a magnetized needle floating on water:</p><p><strong>Materials Needed:</strong></p><ul style='margin-left: 20px; margin-bottom: 15px;'><li>Sewing needle or thin wire (iron or steel)</li><li>Lodestone, permanent magnet, or electromagnet</li><li>Small piece of cork, wood, or foam</li><li>Shallow bowl of water</li><li>Optional: North-South reference (sun observation or star charts)</li></ul><p><strong>Construction Steps:</strong></p><ol style='margin-left: 20px; margin-bottom: 15px;'><li><strong>Magnetize the needle:</strong> Stroke it 50-100 times with a magnet, always in the same direction</li><li><strong>Mark poles:</strong> Mark one end with a scratch or dab of paint‚Äîthis will be north-seeking pole</li><li><strong>Float the needle:</strong> Balance the needle on a small cork floating in water</li><li><strong>Allow settling:</strong> It will rotate and align north-south</li><li><strong>Calibrate:</strong> Observe which end points north (use Earth's magnetic field, or determine north from sun/stars first)</li></ol><h3>Pivot Compass (More Durable)</h3><p>For repeated use, a needle pivoting on a point is more practical:</p><ol style='margin-left: 20px; margin-bottom: 15px;'><li><strong>Create pivot point:</strong> A fine wire or sewing needle standing vertically in a wooden base</li><li><strong>Balance the magnetic needle:</strong> Magnetize a slightly larger needle or thin iron rod</li><li><strong>Balance carefully:</strong> The needle must balance on the pivot point, neither tipped forward nor backward</li><li><strong>Reduce friction:</strong> The pivot should be as fine and smooth as possible‚Äîa jeweler's tool, watch part, or specially prepared point</li><li><strong>House in compass rose:</strong> Optional: Encase in a wooden or metal case marked with cardinal directions</li></ol><h3>Compass Declination</h3><p>Magnetic north is not true geographic north. The difference is called declination and varies by location and time:</p><ul style='margin-left: 20px; margin-bottom: 15px;'><li><strong>Current declination:</strong> In many places, ranges from 5-25¬∞ east or west of true north</li><li><strong>Changes with time:</strong> Declination drifts 5-10¬∞ per century due to Earth's core changes</li><li><strong>Varies by location:</strong> East coast of North America has westward declination; Pacific coast has eastward</li><li><strong>Correction:</strong> If you need true north, apply a correction factor based on your location and the current year</li></ul><p>For most practical post-collapse purposes, magnetic north is accurate enough. But for precision navigation or astronomy, declination matters.</p><h3>Testing & Verification</h3><p><strong>Method 1: Sun Observation</strong></p><ul style='margin-left: 20px; margin-bottom: 15px;'><li>At solar noon (when sun is highest), the sun is due south in Northern Hemisphere</li><li>Compare compass direction with sun position</li><li>Account for time of year (sun not exactly due south at all times)</li></ul><p><strong>Method 2: Star Observation</strong></p><ul style='margin-left: 20px; margin-bottom: 15px;'><li>Locate Polaris (North Star) at night</li><li>Polaris is nearly true north (within 1¬∞)</li><li>Compare compass direction with Polaris</li></ul><p><strong>Method 3: Consistent Landmarks</strong></p><ul style='margin-left: 20px; margin-bottom: 15px;'><li>If you know a distant landmark's true direction (from maps or earlier observations), use it as reference</li><li>Compare compass reading with known direction</li></ul></section><section id="applications"><h2>Practical Applications</h2><h3>Generators & Power Production</h3><p>Magnets are essential for generating electricity. A magnet rotating past coils of wire induces electrical current (electromagnetic induction):</p><ul style='margin-left: 20px; margin-bottom: 15px;'><li><strong>Hand-crank generator:</strong> Rotating magnet inside wire coil produces 5-30V at crank speeds</li><li><strong>Water wheel generator:</strong> Water power rotates magnet continuously</li><li><strong>Wind generator:</strong> Wind power rotates magnet continuously</li><li><strong>Bicycle dynamo:</strong> Rider's motion rotates magnet, producing light power for headlight</li></ul><h3>Electric Motors</h3><p>Motors reverse the generator principle: electrical current flowing through a coil in a magnetic field causes rotation:</p><ul style='margin-left: 20px; margin-bottom: 15px;'><li><strong>DC motor:</strong> Electromagnet rotating between permanent magnets; current direction switches via commutator</li><li><strong>AC motor:</strong> Electromagnet rotating in AC field; field naturally alternates polarity</li><li><strong>Simple hand-made motor:</strong> Battery-powered electromagnet coil rotating between permanent magnets</li></ul><h3>Speakers & Sound Production</h3><p>Speakers use permanent magnets and electromagnets to convert electrical signals into mechanical vibration:</p><ul style='margin-left: 20px; margin-bottom: 15px;'><li><strong>Voice coil:</strong> Electromagnet suspended in permanent magnet field</li><li><strong>Audio signal:</strong> Current fluctuations make voice coil vibrate</li><li><strong>Cone coupling:</strong> Voice coil attached to paper cone; cone vibration produces sound</li></ul><h3>Magnetic Sensors</h3><p>Magnets can detect motion and position:</p><ul style='margin-left: 20px; margin-bottom: 15px;'><li><strong>Reed switches:</strong> Magnetic field closes metal contacts when magnet approaches</li><li><strong>Magnetic position indicators:</strong> Magnet position visible from outside sealed container</li><li><strong>Metal detectors:</strong> Changing magnetic field when metal nears detector coil triggers alarm</li></ul><h3>Magnetic Separation & Sorting</h3><p>Industrial-scale uses:</p><ul style='margin-left: 20px; margin-bottom: 15px;'><li><strong>Scrap sorting:</strong> Electromagnet removes iron from non-ferrous scrap</li><li><strong>Mineral processing:</strong> Magnetic separation concentrates iron ore</li><li><strong>Waste management:</strong> Remove ferrous metals from mixed waste streams</li></ul></section><section id="permanent"><h2>Permanent vs Temporary Magnets</h2><h3>Permanent Magnets</h3><p>Materials that retain magnetization indefinitely (on human timescales):</p><ul style='margin-left: 20px; margin-bottom: 15px;'><li><strong>Natural lodestone:</strong> Magnetite with permanent alignment from Earth's field</li><li><strong>Hardened steel:</strong> High-carbon steel that has been magnetized and hardened retains magnetization</li><li><strong>Alnico magnets:</strong> Aluminum-nickel-cobalt alloys (rare in post-collapse scenario)</li><li><strong>Ferrite magnets:</strong> Ceramic magnets (typically from modern electronics, not easily made)</li></ul><p><strong>Advantages:</strong> No power needed; reliable and consistent</p><p><strong>Disadvantages:</strong> Cannot be easily turned off; magnetization gradually decreases over decades (especially if heated or impacted); strength limited</p><h3>Temporary Magnets</h3><p>Materials that are magnetic only when powered:</p><ul style='margin-left: 20px; margin-bottom: 15px;'><li><strong>Soft iron:</strong> Low-carbon iron becomes magnetic with current, loses magnetization when current stops</li><li><strong>Electromagnets:</strong> Wire coil around iron core</li></ul><p><strong>Advantages:</strong> Can be switched on/off; strength can be controlled with current level; no permanent magnet fatigue</p><p><strong>Disadvantages:</strong> Require external power; generate heat; efficiency depends on electrical losses</p><h3>Demagnetization</h3><p>If you need to remove magnetization from a permanent magnet:</p><p><strong>Heat Method (Least Controlled):</strong></p><ul style='margin-left: 20px; margin-bottom: 15px;'><li>Heat to above Curie point (580¬∞C for iron)</li><li>Cool randomly in no particular orientation</li><li>Domains randomize; magnet loses magnetization</li></ul><p><strong>AC Electromagnet Method (More Controlled):</strong></p><ul style='margin-left: 20px; margin-bottom: 15px;'><li>Place permanent magnet inside an AC electromagnet coil</li><li>AC field alternates, driving domains back and forth with decreasing amplitude</li><li>Gradually reduce AC current to zero</li><li>Domains end up randomized; magnet is demagnetized</li></ul><p><strong>Mechanical Impact:</strong></p><ul style='margin-left: 20px; margin-bottom: 15px;'><li>Repeated heavy impacts can randomize domains (not recommended‚Äîunreliable)</li><li>Vibration while passing through randomizing magnetic field is more controlled</li></ul></section><section id="motor"><h2>Motors & Generators</h2><h3>Simple DC Motor</h3><p>A basic motor demonstrates electromagnetic principles:</p><p><strong>Components:</strong></p><ul style='margin-left: 20px; margin-bottom: 15px;'><li><strong>Permanent magnets:</strong> Provide constant magnetic field (N and S poles facing each other)</li><li><strong>Electromagnet coil:</strong> Rotates between the permanent magnets</li><li><strong>Power source:</strong> Battery or generator providing DC current</li><li><strong>Commutator:</strong> Split ring that switches current direction every half rotation</li><li><strong>Brushes:</strong> Carbon contacts that deliver current to commutator</li><li><strong>Bearings:</strong> Allow smooth rotation</li></ul><p><strong>Operating Principle:</strong></p><ol style='margin-left: 20px; margin-bottom: 15px;'><li>Current flows through coil via one brush and commutator segment</li><li>Coil becomes electromagnet, repelled by same pole and attracted to opposite pole</li><li>Coil rotates 180¬∞</li><li>Commutator switches current direction to opposite coil segments</li><li>Coil poles reverse, maintaining attraction/repulsion for continuous rotation</li><li>Process repeats indefinitely as long as current flows</li></ol><h3>Hand-Cranked Generator</h3><p>Reverse the motor principle to generate electricity:</p><p><strong>Components:</strong></p><ul style='margin-left: 20px; margin-bottom: 15px;'><li><strong>Rotating magnet(s):</strong> Permanent magnets or electromagnet powered from external source</li><li><strong>Stationary coil(s):</strong> Wire coil around the magnet's rotation path</li><li><strong>Mechanical input:</strong> Crank or handle turned by hand</li><li><strong>Bearings:</strong> Allow smooth rotation</li></ul><p><strong>Operating Principle:</strong></p><ol style='margin-left: 20px; margin-bottom: 15px;'><li>As permanent magnet rotates, its field passes through the stationary coil</li><li>Changing magnetic flux induces electrical current in the coil (Faraday's law)</li><li>AC current is produced directly; DC can be obtained with a rectifier (commutator with diodes)</li><li>Faster rotation = higher voltage and current output</li></ol><p><strong>Practical Design for Hand Crank:</strong></p><ul style='margin-left: 20px; margin-bottom: 15px;'><li><strong>Magnet arrangement:</strong> 4-8 permanent magnets arranged around a cylinder</li><li><strong>Coil:</strong> Typically 100-500 turns for useful voltage/current ratio</li><li><strong>Voltage output:</strong> 5-30V depending on crank speed (2-4 fast cranks per second = 10-20V)</li><li><strong>Current output:</strong> 0.1-1A depending on coil resistance and load</li><li><strong>Power output:</strong> ~10-20W sustained from vigorous hand cranking</li></ul><h3>Water Wheel Generator</h3><p>For continuous power in a stream or river:</p><ul style='margin-left: 20px; margin-bottom: 15px;'><li><strong>Water wheel:</strong> Traditional design, dips into flowing water</li><li><strong>Shaft:</strong> Connected to generator rotor through gearing or direct coupling</li><li><strong>Gearing:</strong> Water wheels typically rotate slowly; gearing speeds up rotor for better generator efficiency</li><li><strong>Generator:</strong> Same design as hand crank but powered by water instead</li><li><strong>Voltage/current:</strong> Depends on water flow and head (height difference); can be 12V or more with proper design</li></ul><h3>Wind Generator</h3><p>For continuous power in a windy location:</p><ul style='margin-left: 20px; margin-bottom: 15px;'><li><strong>Rotor blades:</strong> Traditional windmill or propeller design</li><li><strong>Shaft & gearing:</strong> Similar to water wheel; converts slow blade rotation to fast generator rotation</li><li><strong>Generator:</strong> Same principles; output depends on wind speed</li><li><strong>Height placement:</strong> Higher placement (20m+ above obstacles) catches more consistent wind</li><li><strong>Power output:</strong> Highly variable, 10-100W+ depending on wind and design</li></ul></section><section id="diagrams"><h2>Reference Diagrams</h2><h3>Magnetic Field Lines Around a Bar Magnet</h3><div class="diagram" role="figure" aria-label="Diagram"><svg viewbox='0 0 400 300' xmlns="http://www.w3.org/2000/svg" aria-label='Magnet Production diagram 1'><style>
.magnet { fill: var(--card); stroke: var(--accent); stroke-width: 2; }
.pole-label { fill: var(--text); font-size: 16px; font-weight: bold; }
.field-line { stroke: var(--accent2); stroke-width: 1.5; fill: none; }
.arrow { fill: var(--accent2); }
.label { fill: var(--muted); font-size: 11px; }
</style><rect class="magnet" x="150" y="100" width="100" height="100" rx="5"></rect><text class="pole-label" x="165" y="160">N</text><text class="pole-label" x="240" y="160">S</text><path class="field-line" d='M 160 85 Q 80 70 60 120 Q 70 180 160 210'></path><path class="field-line" d='M 170 75 Q 60 50 30 100 Q 30 200 170 220'></path><path class="field-line" d='M 190 70 Q 50 30 20 120 Q 10 200 190 230'></path><path class="field-line" d='M 240 85 Q 320 70 340 120 Q 330 180 240 210'></path><path class="field-line" d='M 230 75 Q 340 50 370 100 Q 370 200 230 220'></path><path class="field-line" d='M 210 70 Q 350 30 380 120 Q 390 200 210 230'></path><path class="field-line" d='M 260 110 L 160 110'></path><path class="field-line" d='M 260 130 L 160 130'></path><path class="field-line" d='M 260 150 L 160 150'></path><path class="field-line" d='M 260 170 L 160 170'></path><path class="field-line" d='M 260 190 L 160 190'></path><polygon class="arrow" points='260,110 255,107 257,113'></polygon><polygon class="arrow" points='95,110 90,107 92,113'></polygon><polygon class="arrow" points='340,120 335,118 338,125'></polygon><polygon class="arrow" points='75,150 70,147 72,153'></polygon><text class="label" x="155" y="35">Field lines exit North pole</text><text class="label" x="235" y="35">Field lines enter South pole</text><text class="label" x="20" y="150">Field lines curve around outside</text><text class="label" x="245" y="75">Invisible inside bar (S to N)</text></svg><div class="diagram-label">Figure 1: Magnetic field lines around a bar magnet - lines exit N-pole, curve around, enter S-pole</div></div><h3>Stroking Magnetization Method</h3><div class="diagram" role="figure" aria-label="Diagram"><svg viewbox='0 0 450 280' xmlns="http://www.w3.org/2000/svg" aria-label='Magnet Production diagram 2'><style>
.iron-bar { fill: var(--surface); stroke: var(--accent2); stroke-width: 2; }
.magnet { fill: var(--card); stroke: var(--accent); stroke-width: 2; }
.arrow { fill: var(--accent); stroke: var(--accent); stroke-width: 2; }
.label { fill: var(--text); font-size: 12px; }
.step-num { fill: var(--accent2); font-size: 14px; font-weight: bold; }
.domain { fill: none; stroke: var(--muted); stroke-width: 0.5; }
</style><text class="step-num" x="20" y="25">Step 1: Start (random domains)</text><rect class="iron-bar" x="30" y="50" width="150" height="40"></rect><line class="domain" x1="40" y1="50" x2="40" y2="90"></line><line class="domain" x1="50" y1="50" x2="50" y2="90"></line><line class="domain" x1="60" y1="50" x2="60" y2="90"></line><line class="domain" x1="70" y1="50" x2="70" y2="90"></line><line class="domain" x1="80" y1="50" x2="80" y2="90"></line><line class="domain" x1="90" y1="50" x2="90" y2="90"></line><line class="domain" x1="100" y1="50" x2="100" y2="90"></line><line class="domain" x1="110" y1="50" x2="110" y2="90"></line><line class="domain" x1="120" y1="50" x2="120" y2="90"></line><line class="domain" x1="130" y1="50" x2="130" y2="90"></line><path stroke="var(--muted)" stroke-width="1" d='M 40 65 L 45 60'></path><path stroke="var(--muted)" stroke-width="1" d='M 50 70 L 55 75'></path><path stroke="var(--muted)" stroke-width="1" d='M 60 62 L 65 58'></path><path stroke="var(--muted)" stroke-width="1" d='M 70 75 L 75 72'></path><text class="label" x="30" y="110">No net magnetization</text><text class="step-num" x="240" y="25">Step 2: Stroke with magnet</text><rect class="iron-bar" x="250" y="50" width="150" height="40"></rect><rect class="magnet" x="240" y="35" width="40" height="20" rx="3"></rect><text class="label" x="245" y="48" style='font-size: 10px;'>N</text><path class="arrow" marker-end="url(#arrowhead)" stroke-width="2" d='M 280 32 L 380 32'></path><text class="label" x="320" y="25">Stroke direction</text><path stroke="var(--accent2)" stroke-width="1.5" d='M 260 65 L 265 60'></path><path stroke="var(--accent2)" stroke-width="1.5" d='M 270 65 L 275 60'></path><path stroke="var(--accent2)" stroke-width="1.5" d='M 280 65 L 285 60'></path><path stroke="var(--accent2)" stroke-width="1.5" d='M 290 65 L 295 60'></path><path stroke="var(--accent2)" stroke-width="1.5" d='M 300 65 L 305 60'></path><path stroke="var(--accent2)" stroke-width="1.5" d='M 310 65 L 315 60'></path><path stroke="var(--accent2)" stroke-width="1.5" d='M 320 65 L 325 60'></path><path stroke="var(--accent2)" stroke-width="1.5" d='M 330 65 L 335 60'></path><path stroke="var(--accent2)" stroke-width="1.5" d='M 340 65 L 345 60'></path><path stroke="var(--accent2)" stroke-width="1.5" d='M 350 65 L 355 60'></path><text class="label" x="250" y="110">Domains align with N-pole</text><text class="step-num" x="20" y="150">Step 3: Lift magnet between strokes</text><rect class="iron-bar" x="30" y="175" width="150" height="40"></rect><rect class="magnet" x="200" y="175" width="40" height="20" rx="3"></rect><path stroke="var(--accent2)" stroke-width="1.5" d='M 40 190 L 45 185'></path><path stroke="var(--accent2)" stroke-width="1.5" d='M 50 190 L 55 185'></path><path stroke="var(--accent2)" stroke-width="1.5" d='M 60 190 L 65 185'></path><path stroke="var(--accent2)" stroke-width="1.5" d='M 70 190 L 75 185'></path><path stroke="var(--accent2)" stroke-width="1.5" d='M 80 190 L 85 185'></path><path stroke="var(--accent2)" stroke-width="1.5" d='M 90 190 L 95 185'></path><path stroke="var(--accent2)" stroke-width="1.5" d='M 100 190 L 105 185'></path><path stroke="var(--accent2)" stroke-width="1.5" d='M 110 190 L 115 185'></path><path stroke="var(--accent2)" stroke-width="1.5" d='M 120 190 L 125 185'></path><path stroke="var(--accent2)" stroke-width="1.5" d='M 130 190 L 135 185'></path><text class="label" x="30" y="235">Repeat 50-100 times for strong magnetization</text><text class="step-num" x="240" y="150">Result: Magnetized bar</text><rect class="iron-bar" x="250" y="175" width="150" height="40"></rect><text class="label" x="260" y="170" style='font-weight: bold; color: var(--accent2);'>N-pole</text><text class="label" x="365" y="170" style='font-weight: bold; color: var(--accent);'>S-pole</text><path stroke="var(--accent2)" stroke-width="1.5" d='M 260 190 L 265 185'></path><path stroke="var(--accent2)" stroke-width="1.5" d='M 270 190 L 275 185'></path><path stroke="var(--accent2)" stroke-width="1.5" d='M 280 190 L 285 185'></path><path stroke="var(--accent2)" stroke-width="1.5" d='M 290 190 L 295 185'></path><path stroke="var(--accent2)" stroke-width="1.5" d='M 300 190 L 305 185'></path><path stroke="var(--accent2)" stroke-width="1.5" d='M 310 190 L 315 185'></path><path stroke="var(--accent2)" stroke-width="1.5" d='M 320 190 L 325 185'></path><path stroke="var(--accent2)" stroke-width="1.5" d='M 330 190 L 335 185'></path><path stroke="var(--accent2)" stroke-width="1.5" d='M 340 190 L 345 185'></path><path stroke="var(--accent2)" stroke-width="1.5" d='M 350 190 L 355 185'></path><text class="label" x="280" y="235">All domains aligned - strong magnet!</text></svg><div class="diagram-label">Figure 2: Stroking magnetization - repeated strokes align magnetic domains</div></div><h3>Electromagnet Coil Winding</h3><div class="diagram" role="figure" aria-label="Diagram"><svg viewbox='0 0 450 250' xmlns="http://www.w3.org/2000/svg" aria-label='Magnet Production diagram 3'><style>
.core { fill: var(--accent); opacity: 0.3; }
.wire { fill: none; stroke: var(--accent2); stroke-width: 2; }
.label { fill: var(--text); font-size: 12px; }
.title { fill: var(--accent); font-size: 13px; font-weight: bold; }
.dimension { stroke: var(--muted); stroke-width: 1; stroke-dasharray: 3,3; }
</style><text class="title" x="40" y="25">Electromagnet Coil (Side View)</text><rect class="core" x="80" y="60" width="30" height="120" rx="15"></rect><rect x="80" y="60" width="30" height="120" rx="15" fill="none" stroke="var(--accent)" stroke-width="2"></rect><circle cx="95" cy="75" r="25" fill="none" stroke="var(--accent2)" stroke-width="2"></circle><circle cx="95" cy="95" r="26" fill="none" stroke="var(--accent2)" stroke-width="2"></circle><circle cx="95" cy="115" r="26" fill="none" stroke="var(--accent2)" stroke-width="2"></circle><circle cx="95" cy="135" r="26" fill="none" stroke="var(--accent2)" stroke-width="2"></circle><circle cx="95" cy="155" r="25" fill="none" stroke="var(--accent2)" stroke-width="2"></circle><ellipse cx="95" cy="75" rx="30" ry="27" fill="none" stroke="var(--accent2)" stroke-width="1.5" opacity="0.7"></ellipse><ellipse cx="95" cy="95" rx="31" ry="28" fill="none" stroke="var(--accent2)" stroke-width="1.5" opacity="0.7"></ellipse><ellipse cx="95" cy="115" rx="31" ry="28" fill="none" stroke="var(--accent2)" stroke-width="1.5" opacity="0.7"></ellipse><ellipse cx="95" cy="135" rx="31" ry="28" fill="none" stroke="var(--accent2)" stroke-width="1.5" opacity="0.7"></ellipse><ellipse cx="95" cy="155" rx="30" ry="27" fill="none" stroke="var(--accent2)" stroke-width="1.5" opacity="0.7"></ellipse><line x1="65" y1="75" x2="45" y2="60" stroke="var(--accent2)" stroke-width="2"></line><text class="label" x="30" y="55">To power source</text><line x1="130" y1="155" x2="150" y2="170" stroke="var(--accent2)" stroke-width="2"></line><text class="label" x="155" y="175">From power source</text><line class="dimension" x1="110" y1="60" x2="135" y2="60"></line><text class="label" x="125" y="55">Wire diameter</text><line class="dimension" x1="65" y1="60" x2="65" y2="180"></line><text class="label" x="30" y="125">Coil length</text><line class="dimension" x1="65" y1="175" x2="80" y2="175"></line><text class="label" x="60" y="195">Core diameter</text><text class="title" x="240" y="25">Electromagnet Coil (End View)</text><circle cx="310" cy="90" r="12" fill="var(--accent)" opacity="0.3"></circle><circle cx="310" cy="90" r="12" fill="none" stroke="var(--accent)" stroke-width="2"></circle><circle cx="310" cy="90" r="22" fill="none" stroke="var(--accent2)" stroke-width="2"></circle><circle cx="310" cy="90" r="32" fill="none" stroke="var(--accent2)" stroke-width="2"></circle><circle cx="310" cy="90" r="42" fill="none" stroke="var(--accent2)" stroke-width="2"></circle><line x1="310" y1="65" x2="310" y2="115" stroke="var(--accent2)" stroke-width="1.5" stroke-dasharray="3,3" opacity="0.6"></line><text class="label" x="320" y="95" style='font-size: 10px; opacity: 0.7;'>Magnetic field</text><path fill="none" stroke="var(--accent)" stroke-width="1" stroke-dasharray="3,3" opacity="0.5" d='M 280 70 Q 260 60 250 90'></path><path fill="none" stroke="var(--accent)" stroke-width="1" stroke-dasharray="3,3" opacity="0.5" d='M 340 70 Q 360 60 370 90'></path><path fill="none" stroke="var(--accent)" stroke-width="1" stroke-dasharray="3,3" opacity="0.5" d='M 280 110 Q 260 120 250 90'></path><path fill="none" stroke="var(--accent)" stroke-width="1" stroke-dasharray="3,3" opacity="0.5" d='M 340 110 Q 360 120 370 90'></path><rect x="240" y="160" width="180" height="80" fill="var(--card)" stroke="var(--border)" stroke-width="1" rx="5"></rect><text class="label" x="250" y="180">Typical specifications:</text><text class="label" x="250" y="195">Wire gauge: 18-22 AWG</text><text class="label" x="250" y="210">Turns: 100-2000</text><text class="label" x="250" y="225">Current: 0.5-3 A</text><text class="label" x="250" y="240">Voltage: 6-12 V</text></svg><div class="diagram-label">Figure 3: Electromagnet construction - coil wrapping and magnetic field</div></div><h3>Simple DC Motor Principle</h3><div class="diagram" role="figure" aria-label="Diagram"><svg viewbox='0 0 450 280' xmlns="http://www.w3.org/2000/svg" aria-label='Magnet Production diagram 4'><style>
.magnet { fill: var(--card); stroke: var(--accent); stroke-width: 2; }
.coil { fill: none; stroke: var(--accent2); stroke-width: 2; }
.pole-label { fill: var(--text); font-size: 14px; font-weight: bold; }
.arrow { fill: var(--accent); stroke: var(--accent); stroke-width: 1.5; }
.label { fill: var(--text); font-size: 11px; }
.current-arrow { fill: none; stroke: var(--accent2); stroke-width: 2; marker-end: url(#arrowhead); }
</style><rect class="magnet" x="30" y="80" width="40" height="140" rx="5"></rect><rect class="magnet" x="380" y="80" width="40" height="140" rx="5"></rect><text class="pole-label" x="40" y="165">N</text><text class="pole-label" x="390" y="165">S</text><rect x="180" y="100" width="80" height="100" fill="none" stroke="var(--accent2)" stroke-width="2"></rect><circle cx="220" cy="150" r="5" fill="var(--accent)" stroke="var(--accent)" stroke-width="1"></circle><path class="current-arrow" d='M 185 105 L 255 105'></path><path class="current-arrow" d='M 255 145 L 185 145'></path><path class="current-arrow" d='M 185 195 L 255 195'></path><path class="arrow" marker-end="url(#arrowhead)" d='M 175 125 L 150 125'></path><text class="label" x="130" y="120">Repulsion from N</text><path class="arrow" marker-end="url(#arrowhead)" d='M 275 175 L 300 175'></path><text class="label" x="305" y="180">Attraction to S</text><path fill="none" stroke="var(--accent)" stroke-width="2" stroke-dasharray="3,3" d='M 220 85 A 35 35 0 0 1 250 150'></path><path class="arrow" d='M 250 140 L 260 150'></path><text class="label" x="260" y="110">Rotation</text><circle cx="220" cy="220" r="8" fill="var(--card)" stroke="var(--accent)" stroke-width="1.5"></circle><line x1="215" y1="228" x2="210" y2="240" stroke="var(--accent2)" stroke-width="2"></line><line x1="225" y1="228" x2="230" y2="240" stroke="var(--accent2)" stroke-width="2"></line><circle cx="210" cy="245" r="3" fill="var(--accent2)"></circle><circle cx="230" cy="245" r="3" fill="var(--accent2)"></circle><text class="label" x="190" y="260">Brushes deliver current</text><text class="label" x="190" y="275">to commutator</text><line x1="210" y1="245" x2="180" y2="245" stroke="var(--accent2)" stroke-width="2"></line><line x1="230" y1="245" x2="260" y2="245" stroke="var(--accent2)" stroke-width="2"></line><rect x="165" y="240" width="15" height="20" fill="var(--surface)" stroke="var(--accent2)" stroke-width="1"></rect><rect x="260" y="240" width="15" height="20" fill="var(--surface)" stroke="var(--accent2)" stroke-width="1"></rect><defs><marker id="arrowhead" markerwidth="10" markerheight="7" refx="9" refy="3.5" orient="auto"><polygon fill="var(--accent)" points='0 0, 10 3.5, 0 7'></polygon></marker></defs></svg><div class="diagram-label">Figure 4: DC Motor principle - current in coil creates forces that cause rotation</div></div></section><section id="mistakes" class="common-mistakes"><h3>Common Mistakes & Solutions</h3><ul><li><strong>Magnet Loses Strength Quickly:</strong> Possible causes: heating above 580¬∞C, repeated impact, exposure to strong opposing fields, or simply age. Solution: Store magnets separated from each other (opposing poles repel, staying apart). Keep away from heat. Avoid dropping or striking.</li><li><strong>Stroking Produces Weak Magnet:</strong> Not enough strokes or insufficient pressure from magnetizing magnet. Solution: Increase number of strokes to 200-300. Ensure the stroking magnet is strong and in good contact with the iron.</li><li><strong>Compass Needle Doesn't Align North-South:</strong> Magnetization is too weak, or the needle is not balanced properly. Solution: If magnetization is weak, remagnetize with more strokes. If balance is the problem, carefully file or sand the pivot end until needle balances perfectly.</li><li><strong>Electromagnet Doesn't Pull Iron:</strong> Insufficient current, too few turns, iron core not seated properly, or wire insulation breaking continuity. Solution: Check power supply voltage and current. If current is low, reduce resistance (thicker wire for next coil). Increase number of turns. Ensure continuous core contact. Test wire continuity with a simple circuit.</li><li><strong>Motor Doesn't Spin:</strong> Commutator misaligned, brushes not in contact with commutator, coil unbalanced, or bearings too tight. Solution: Ensure brushes are springy and contact commutator reliably. Balance coil carefully; should spin freely by hand with only minor friction. Check bearing clearance is adequate.</li><li><strong>Generator Produces No Output:</strong> No rotation of magnet rotor, insufficient magnets, coil not aligned properly, or broken wire. Solution: Check for mechanical resistance preventing rotation. Verify magnet strength (test with iron filings). Reposition coil to be in the strong field region. Test coil continuity with a multimeter or simple continuity tester.</li><li><strong>Lodestone Difficult to Find:</strong> Not in right geology, or deposits too deep. Solution: Research local mining history and geological maps. Visit known magnetite deposits. Test multiple rock samples‚Äîtrue lodestones are rare; most magnetite is weakly magnetic.</li><li><strong>Magnetic Separation Too Slow:</strong> Electromagnet not strong enough or positioned too far from material. Solution: Increase current and number of turns. Move electromagnet closer to material (within 10cm of strong field). Use multiple electromagnets for larger operations.</li><li><strong>Coil Overheats During Use:</strong> Excessive current or wire resistance too high. Solution: Reduce current (increase resistance in circuit, use thicker power source). Check for shorted turns (wire insulation damaged). Use thicker wire to reduce resistance and heat generation.</li><li><strong>Cannot Achieve Proper Magnetization Temperature:</strong> Furnace or fire not hot enough, or material cools too quickly. Solution: Use bellows to increase fire temperature. Bury cooling material in sand or ash to slow cooling rate. Alternatively, use electromagnet method which doesn't require heating.</li></ul></section></main><div class="notes-section"><div class="notes-header"><span>My Notes</span><span class="notes-toggle">‚ñº</span></div><div class="notes-content"><textarea class="notes-textarea" id="notes-area" placeholder='Add your notes here...'></textarea><div class="notes-actions"><button class="save-notes-btn" id="save-notes-btn">Save Notes</button><span class="notes-status" id="notes-status"></span></div></div></div><footer><p>Off-Grid Compendium - Technical guides for post-collapse scenarios</p><p>Last updated: February 2026 | Magnet Production</p></footer><button id="back-to-top" title='Back to top'>‚Üë</button><script>
document.getElementById('theme-toggle').addEventListener('click', function() {
const currentTheme = document.documentElement.getAttribute('data-theme') || 'dark';
const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
document.documentElement.setAttribute('data-theme', newTheme);
localStorage.setItem('theme', newTheme);
this.textContent = newTheme === 'dark' ? '‚òÄÔ∏è' : 'üåô';
});
const savedTheme = localStorage.getItem('theme') || 'dark';
document.documentElement.setAttribute('data-theme', savedTheme);
document.getElementById('theme-toggle').textContent = savedTheme === 'dark' ? '‚òÄÔ∏è' : 'üåô';
document.getElementById('mark-read-btn').addEventListener('click', function() {
this.classList.toggle('completed');
const isRead = this.classList.contains('completed');
localStorage.setItem('guide-magnet-production-read', isRead);
});
if (localStorage.getItem('guide-magnet-production-read')) {
document.getElementById('mark-read-btn').classList.add('completed');
}
const notesToggle = document.querySelector('.notes-toggle');
const notesContent = document.querySelector('.notes-content');
const notesTextarea = document.getElementById('notes-area');
const saveNotesBtn = document.getElementById('save-notes-btn');
const notesStatus = document.getElementById('notes-status');
notesToggle.addEventListener('click', function() {
notesContent.classList.toggle('open');
notesToggle.classList.toggle('open');
});
const savedNotes = localStorage.getItem('guide-magnet-production-notes');
if (savedNotes) {
notesTextarea.value = savedNotes;
}
saveNotesBtn.addEventListener('click', function() {
localStorage.setItem('guide-magnet-production-notes', notesTextarea.value);
notesStatus.textContent = 'Saved!';
setTimeout(() => { notesStatus.textContent = ''; }, 2000);
});
const backToTopBtn = document.getElementById('back-to-top');
window.addEventListener('scroll', () => {
if (window.pageYOffset > 300) {
backToTopBtn.style.display = 'flex';
} else {
backToTopBtn.style.display = 'none';
}
});
backToTopBtn.addEventListener('click', () => {
window.scrollTo({ top: 0, behavior: 'smooth' });
});
document.querySelectorAll('nav.toc a').forEach(link => {
link.addEventListener('click', function(e) {
e.preventDefault();
const targetId = this.getAttribute('href').substring(1);
const targetSection = document.getElementById(targetId);
if (targetSection) {
targetSection.scrollIntoView({ behavior: 'smooth' });
}
});
});
</script></main><script src="../shared/theme-sync.js"></script><script src="js/shared.js"></script></body></html>