<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8"><meta content='width=device-width, initial-scale=1.0' name="viewport"><title>Energy Systems Compendium - Off-Grid Survival</title><link rel="stylesheet" href="css/shared.css"><style>.subtitle{color:var(--accent2);font-size:1.1em;font-weight:300}nav.toc{background-color:var(--surface);border:2px solid var(--border);border-radius:6px;padding:20px;margin-bottom:40px}navnav.toc ol{list-style-position:inside;columns:2;gap:20px}nav.toc li{margin-bottom:10px;break-inside:avoid}.diagram{background-color:var(--card);border:2px solid var(--border);border-radius:6px;padding:20px;margin:20px 0;display:flex;justify-content:center;align-items:center}.formula{background-color:var(--card);border-left:4px solid var(--warning);padding:15px;margin:15px 0;font-family:'Courier New',monospace;color:var(--warning);border-radius:3px}.specs{background-color:var(--card);border:1px solid var(--border);padding:15px;margin:15px 0;border-radius:4px}.specs li{margin-bottom:8px;margin-left:20px}</style></head><body><main role="main"><a class="skip-link" href="#main-content"> Skip to main content </a><div class="container"><header><h1> ‚ö° Energy Systems Compendium </h1><div class="top-controls"><button class="theme-toggle" aria-label='Toggle dark/light theme' id="theme-toggle" title='Toggle dark/light mode'> ‚òÄÔ∏è </button><button class="mark-read-btn" aria-label='Mark this guide as read' id="mark-read-btn" title='Mark this guide as completed'> Mark as Read </button></div><div class="guide-metadata"><span class="difficulty"> Difficulty: ‚óè‚óè‚óè‚óã‚óã </span><span class="read-time"> üìñ ~17 min read </span></div><p class="subtitle"> Complete Off-Grid Power Generation & Fuel Production Guide </p><a class="back-link" href="../index.html" aria-label='Back to guide list'> ‚Üê Back to Compendium Index </a></header><nav class="toc" role="navigation" aria-label='Table of contents'><h2> üìã Table of Contents </h2><ol><li><a href="#water-wheels"> Water Wheels (Overshot, Undershot, Breastshot) </a></li><li><a href="#windmills"> Windmills & Wind Power </a></li><li><a href="#steam-engines"> Steam Engines & Boilers </a></li><li><a href="#micro-hydro"> Micro-Hydro Turbines </a></li><li><a href="#wood-gasification"> Wood Gasification Systems </a></li><li><a href="#biogas"> Biogas & Anaerobic Digesters </a></li><li><a href="#charcoal"> Charcoal & Wood Fuel Production </a></li><li><a href="#solar-thermal"> Solar Thermal Systems </a></li><li><a href="#wind-solar-electric"> Wind & Solar Electricity </a></li><li><a href="#human-animal-power"> Human & Animal Power </a></li><li><a href="#fuel-comparison"> Fuel Energy Density Comparison </a></li></ol></nav><section id="water-wheels"><h2> 1. Water Wheels </h2><p> Water wheels are among the oldest renewable energy devices, converting flowing or falling water into rotational mechanical power. Three main types dominate historical and modern applications, each optimized for different water conditions. </p><h3> The Three Water Wheel Types </h3><div class="diagram" role="figure" aria-label="Diagram"><svg viewbox='0 0 900 300' xmlns="http://www.w3.org/2000/svg" aria-label='‚ö° Energy Systems Compendium diagram 1'><g><circle cx="150" cy="150" fill="none" r="80" stroke="#53d8a8" stroke-width="3"></circle><circle cx="150" cy="150" fill="none" r="75" stroke="#53d8a8" stroke-width="1"></circle><circle cx="150" cy="150" fill="none" r="70" stroke="#53d8a8" stroke-width="1"></circle><rect fill="#e94560" height="15" opacity="0.7" width="20" x="140" y="60"></rect><rect fill="#e94560" height="15" opacity="0.7" width="20" x="155" y="75"></rect><rect fill="#e94560" height="15" opacity="0.5" width="20" x="155" y="155"></rect><rect fill="#e94560" height="15" opacity="0.5" width="20" x="140" y="235"></rect><rect fill="#e94560" height="15" opacity="0.5" width="20" x="125" y="155"></rect><path d='M 130 30 Q 140 45 150 50' fill="none" stroke="#53d8a8" stroke-width="4"></path><path d='M 140 30 Q 150 45 160 50' fill="none" stroke="#53d8a8" stroke-width="4"></path><circle cx="150" cy="150" fill="#ffb347" r="8"></circle><line stroke="#aaa" stroke-width="4" x1="150" x2="150" y1="158" y2="240"></line><text fill="#eee" font-size="14" font-weight="bold" text-anchor="middle" x="150" y="285"> Overshot </text><text fill="#aaa" font-size="11" text-anchor="middle" x="150" y="302"> High head, 75-90% </text></g><g><circle cx="450" cy="150" fill="none" r="80" stroke="#53d8a8" stroke-width="3"></circle><circle cx="450" cy="150" fill="none" r="75" stroke="#53d8a8" stroke-width="1"></circle><circle cx="450" cy="150" fill="none" r="70" stroke="#53d8a8" stroke-width="1"></circle><rect fill="#e94560" height="15" opacity="0.7" width="20" x="440" y="220"></rect><rect fill="#e94560" height="12" opacity="0.7" width="20" x="455" y="230"></rect><rect fill="#e94560" height="12" opacity="0.5" width="20" x="455" y="70"></rect><rect fill="#e94560" height="15" opacity="0.5" width="20" x="440" y="60"></rect><rect fill="#e94560" height="20" opacity="0.5" width="15" x="425" y="150"></rect><path d='M 380 240 L 520 240' marker-end="url(#arrowhead)" stroke="#53d8a8" stroke-width="5"></path><path d='M 380 250 L 520 250' marker-end="url(#arrowhead)" stroke="#53d8a8" stroke-width="5"></path><circle cx="450" cy="150" fill="#ffb347" r="8"></circle><line stroke="#aaa" stroke-width="4" x1="450" x2="450" y1="158" y2="240"></line><text fill="#eee" font-size="14" font-weight="bold" text-anchor="middle" x="450" y="285"> Undershot </text><text fill="#aaa" font-size="11" text-anchor="middle" x="450" y="302"> Low head, 25-35% </text></g><g><circle cx="750" cy="150" fill="none" r="80" stroke="#53d8a8" stroke-width="3"></circle><circle cx="750" cy="150" fill="none" r="75" stroke="#53d8a8" stroke-width="1"></circle><circle cx="750" cy="150" fill="none" r="70" stroke="#53d8a8" stroke-width="1"></circle><rect fill="#e94560" height="15" opacity="0.7" width="20" x="740" y="65"></rect><rect fill="#e94560" height="15" opacity="0.7" width="20" x="755" y="80"></rect><rect fill="#e94560" height="18" opacity="0.7" width="18" x="760" y="160"></rect><rect fill="#e94560" height="15" opacity="0.5" width="20" x="740" y="235"></rect><rect fill="#e94560" height="18" opacity="0.5" width="18" x="725" y="150"></rect><path d='M 680 140 Q 710 145 740 150' fill="none" stroke="#53d8a8" stroke-width="5"></path><path d='M 680 160 Q 710 155 740 150' fill="none" stroke="#53d8a8" stroke-width="5"></path><circle cx="750" cy="150" fill="#ffb347" r="8"></circle><line stroke="#aaa" stroke-width="4" x1="750" x2="750" y1="158" y2="240"></line><text fill="#eee" font-size="14" font-weight="bold" text-anchor="middle" x="750" y="285"> Breastshot </text><text fill="#aaa" font-size="11" text-anchor="middle" x="750" y="302"> Medium head, 60-70% </text></g><defs><marker id="arrowhead" markerheight="10" markerwidth="10" orient="auto" refx="5" refy="3"><polygon fill="#53d8a8" points='0 0, 10 3, 0 6'></polygon></marker></defs></svg></div><h3> Water Wheel Characteristics </h3><div class="specs"><ul><li><strong> Overshot Wheel: </strong> Water enters at top of wheel, fills buckets, gravity pulls them down. Best for high head (>3m), modest flow. Most efficient (75-90%). Sensitive to timing. </li><li><strong> Undershot Wheel: </strong> Water pushes paddles at bottom. Works with low head (<1m), high flow. Least efficient (25-35%). Simple design, handles logs/debris. </li><li><strong> Breastshot Wheel: </strong> Water enters at axle height, combines gravity and impulse. Moderate head (1-3m), good efficiency (60-70%). Versatile. </li></ul></div><h3> Power Calculations </h3><div class="formula"> Power (Watts) = œÅ √ó g √ó H √ó Q √ó Œ∑ <br> Where: <br> œÅ = water density (1000 kg/m¬≥) <br> g = gravity (9.81 m/s¬≤) <br> H = head/height drop (meters) <br> Q = flow rate (m¬≥/s) <br> Œ∑ = efficiency (0.25-0.90 depending on type) </div><p><strong> Example: </strong> Overshot wheel with 5m head, 0.05 m¬≥/s flow, 85% efficiency: </p><div class="formula"> P = 1000 √ó 9.81 √ó 5 √ó 0.05 √ó 0.85 = 2,084 Watts </div><h3> Water Wheel Construction </h3><div class="specs"><ul><li><strong> Rim & buckets: </strong> Wood (oak, ash) or cast iron. Bucket capacity 5-15 liters for overshot. </li><li><strong> Axle: </strong> Wood (oak) 150-300mm diameter, or wrought iron for heavy loads. </li><li><strong> Gear ratios: </strong> Usually 4:1 to 8:1 reduction via gear teeth on rim, pinion on shaft. </li><li><strong> Bearings: </strong> Bronze bushings or iron bearing blocks with grease/oil lubrication. </li><li><strong> Structure: </strong> Wooden frame with stone or brick wheel pit walls to contain water. </li></ul></div><h3> Site Selection </h3><p> Measure head (vertical drop) and flow rate (timed collection in bucket). A stream with 2m head and 20 liters/second yields ~1.7 kW at 75% efficiency‚Äîenough for milling grain or pumping. </p></section><section id="windmills"><h2> 2. Windmills & Wind Power </h2><p> Windmills harness kinetic energy from moving air. Traditional designs use either post mills (rotating body) or tower mills (rotating cap), both of which transfer wind power through gearing to drive machinery. </p><div class="diagram" role="figure" aria-label="Diagram"><svg viewbox='0 0 600 500' xmlns="http://www.w3.org/2000/svg" aria-label='‚ö° Energy Systems Compendium diagram 2'><rect fill="#16213e" height="200" stroke="#53d8a8" stroke-width="2" width="60" x="270" y="250"></rect><ellipse cx="300" cy="250" fill="#0f3460" rx="70" ry="50" stroke="#e94560" stroke-width="2"></ellipse><line stroke="#aaa" stroke-width="6" x1="200" x2="400" y1="240" y2="240"></line><circle cx="200" cy="240" fill="#ffb347" r="12"></circle><circle cx="400" cy="240" fill="#ffb347" r="12"></circle><g id="sails"><polygon fill="#e94560" opacity="0.8" points='200,240 120,140 140,160' stroke="#eee" stroke-width="1"></polygon><line stroke="#eee" stroke-width="2" x1="200" x2="120" y1="240" y2="140"></line><polygon fill="#e94560" opacity="0.8" points='200,240 120,340 140,320' stroke="#eee" stroke-width="1"></polygon><line stroke="#eee" stroke-width="2" x1="200" x2="120" y1="240" y2="340"></line><polygon fill="#e94560" opacity="0.6" points='400,240 480,140 460,160' stroke="#eee" stroke-width="1"></polygon><line stroke="#eee" stroke-width="2" x1="400" x2="480" y1="240" y2="140"></line><polygon fill="#e94560" opacity="0.6" points='400,240 480,340 460,320' stroke="#eee" stroke-width="1"></polygon><line stroke="#eee" stroke-width="2" x1="400" x2="480" y1="240" y2="340"></line></g><circle cx="400" cy="240" fill="none" r="45" stroke="#53d8a8" stroke-width="3"></circle><text fill="#53d8a8" font-size="12" font-weight="bold" text-anchor="middle" x="400" y="250"> BRAKE </text><circle cx="420" cy="340" fill="none" r="25" stroke="#53d8a8" stroke-width="2"></circle><text fill="#53d8a8" font-size="10" text-anchor="middle" x="420" y="345"> Wallower </text><line stroke="#aaa" stroke-width="5" x1="420" x2="420" y1="365" y2="450"></line><circle cx="420" cy="450" fill="#ffb347" r="12"></circle><circle cx="420" cy="450" fill="none" r="50" stroke="#53d8a8" stroke-width="3"></circle><text fill="#53d8a8" font-size="11" text-anchor="middle" x="420" y="460"> Great Spur </text><defs><marker id="wind-arrow" markerheight="10" markerwidth="10" orient="auto" refx="8" refy="3"><polygon fill="#ffb347" points='0 0, 10 3, 0 6'></polygon></marker></defs><path d='M 50 150 L 100 150' marker-end="url(#wind-arrow)" stroke="#ffb347" stroke-width="3"></path><text fill="#ffb347" font-size="12" font-weight="bold" text-anchor="middle" x="75" y="135"> Wind </text><text fill="#eee" font-size="14" font-weight="bold" text-anchor="middle" x="300" y="480"> Windmill Power Train </text></svg></div><h3> Windmill Components </h3><div class="specs"><ul><li><strong> Sails: </strong> 4-8 cloth or wooden panels (pitch 20-30¬∞). Total area 20-60 m¬≤. Cloth can be rolled up to feather in high wind. </li><li><strong> Windshaft: </strong> Heavy timber or iron shaft, 30-50cm diameter. Bearings in wooden blocks lined with bronze. </li><li><strong> Brake Wheel: </strong> Large gear (1-2m diameter) on windshaft. Teeth engage wallower pinion (0.3-0.5m). </li><li><strong> Wallower: </strong> Pinion gear, typically 12-20 teeth. Rotates main shaft at 4-8√ó windshaft speed. </li><li><strong> Great Spur Wheel: </strong> Large gear on main shaft (1.5-3m diameter). Drives machinery via pinion or rack. </li><li><strong> Brake: </strong> Wooden blocks pressing on brake wheel rim via hand-operated lever. Stops mill in seconds. </li></ul></div><h3> Power Output Estimation </h3><div class="formula"> Power (Watts) = 0.5 √ó œÅ √ó A √ó v¬≥ √ó Œ∑ <br> Where: <br> œÅ = air density (~1.225 kg/m¬≥) <br> A = rotor swept area (m¬≤) <br> v = wind speed (m/s) <br> Œ∑ = conversion efficiency (0.20-0.40 for traditional mills) </div><p><strong> Example: </strong> 40 m¬≤ sail area in 8 m/s wind at 30% efficiency: </p><div class="formula"> P = 0.5 √ó 1.225 √ó 40 √ó 8¬≥ √ó 0.30 = 12,390 Watts ‚âà 12.4 kW </div><h3> Site Selection & Wind Resources </h3><div class="specs"><ul><li> Open hilltops, flat plains preferred. Avoid valleys and tree shelter. </li><li> Height matters: wind speed roughly doubles from ground to 10m height. </li><li> Average wind speed target: >4 m/s for worthwhile power. 7+ m/s excellent. </li><li> Observe trees, flags, smoke behavior over multiple seasons. </li><li> Orient mill into prevailing wind direction using rotating cap (tower mill). </li></ul></div><h3> Speed Control & Governing </h3><p> Excessive wind speed damages sails and gearing. Control methods include cloth furling (rolling up sails), tail vane feathering (turning sails edge-on to wind), centrifugal governors on main shaft, and friction brakes on brake wheel. Mechanical governors with weights are most reliable without electricity. </p></section><section id="steam-engines"><h2> 3. Steam Engines & Boilers </h2><p> Steam engines convert heat energy into mechanical work via high-pressure steam pushing pistons. Paired with a heat source (wood, coal, charcoal), they provided power for mills, pumps, and early transport. </p><div class="diagram" role="figure" aria-label="Diagram"><svg viewbox='0 0 700 350' xmlns="http://www.w3.org/2000/svg" aria-label='‚ö° Energy Systems Compendium diagram 3'><ellipse cx="120" cy="200" fill="none" rx="80" ry="100" stroke="#e94560" stroke-width="3"></ellipse><rect fill="none" height="120" stroke="#e94560" stroke-width="3" width="160" x="40" y="100"></rect><ellipse cx="120" cy="220" fill="#0f3460" opacity="0.5" rx="70" ry="30"></ellipse><path d='M 50 220 Q 120 180 190 220' fill="#0f3460" opacity="0.3"></path><line stroke="#aaa" stroke-width="4" x1="180" x2="220" y1="100" y2="80"></line><text fill="#ffb347" font-size="11" x="200" y="65"> Steam </text><rect fill="none" height="50" stroke="#ffb347" stroke-width="2" width="160" x="40" y="250"></rect><text fill="#ffb347" font-size="12" text-anchor="middle" x="120" y="280"> Furnace (wood/coal) </text><rect fill="none" height="100" stroke="#53d8a8" stroke-width="3" width="120" x="270" y="120"></rect><circle cx="330" cy="170" fill="none" r="50" stroke="#53d8a8" stroke-width="2"></circle><rect fill="#aaa" height="70" opacity="0.7" width="20" x="320" y="135"></rect><circle cx="330" cy="170" fill="#ffb347" r="8"></circle><line stroke="#aaa" stroke-width="4" x1="330" x2="330" y1="205" y2="240"></line><line stroke="#aaa" stroke-width="6" x1="330" x2="480" y1="240" y2="280"></line><circle cx="500" cy="280" fill="none" r="80" stroke="#53d8a8" stroke-width="3"></circle><circle cx="500" cy="280" fill="#ffb347" r="5"></circle><line stroke="#aaa" stroke-width="5" x1="500" x2="550" y1="280" y2="310"></line><line stroke="#e94560" stroke-dasharray="5,5" stroke-width="3" x1="330" x2="330" y1="240" y2="300"></line><text fill="#e94560" font-size="10" x="340" y="270"> Valve </text><text fill="#e94560" font-size="10" x="340" y="283"> Gear </text><path d='M 220 80 L 270 140' marker-end="url(#arrow)" stroke="#e94560" stroke-width="3"></path><path d='M 220 100 L 270 160' marker-end="url(#arrow)" stroke="#e94560" stroke-width="3"></path><line stroke="#aaa" stroke-width="3" x1="390" x2="420" y1="180" y2="180"></line><text fill="#aaa" font-size="10" x="430" y="175"> Exhaust </text><defs><marker id="arrow" markerheight="10" markerwidth="10" orient="auto" refx="8" refy="3"><polygon fill="#e94560" points='0 0, 10 3, 0 6'></polygon></marker></defs><text fill="#eee" font-size="13" font-weight="bold" text-anchor="middle" x="350" y="340"> Simple Steam Engine with Flywheel </text></svg></div><h3> How Steam Engines Work </h3><div class="specs"><ul><li><strong> Single-Acting: </strong> Steam pushes piston in one direction (usually down). Return stroke powered by gravity/mechanical linkage. Simpler, 60-70% of double-acting power. </li><li><strong> Double-Acting: </strong> Steam pushes piston in both directions (alternately on both faces). More power (100% reference), more complex valve gear needed. </li></ul></div><h3> Boiler Construction </h3><div class="specs"><ul><li><strong> Shell: </strong> Cast iron or wrought iron, 1-2 inches thick. Stays bolted or welded together. </li><li><strong> Tubes (fire-tube design): </strong> Horizontal iron tubes inside shell, heated by furnace fire. Water surrounds tubes. </li><li><strong> Water level: </strong> Maintain 2-3 inches above top tubes via water glass (transparent tube). </li><li><strong> Pressure relief: </strong> Safety valve set to 5-10 psi for stationary engines, opens if pressure exceeds limit. </li><li><strong> Feed pump: </strong> Hand pump or pump driven by engine cam to inject water as it boils away. </li></ul></div><h3> Pressure & Safety </h3><div class="warning-box"><strong> ‚ö†Ô∏è High-pressure boilers are extremely dangerous. </strong> A single rivet failure or burst tube can release superheated steam with lethal force. Always maintain accurate water level, monitor pressure gauge, test safety valve weekly, and have a competent operator present. </div><h3> Power Output </h3><div class="formula"> Power (kW) ‚âà Pressure (psi) √ó Piston Area (in¬≤) √ó Strokes/min / 2000 </div><p><strong> Example: </strong> 5 psi boiler, 4-inch diameter piston (area ‚âà 12.5 in¬≤), 60 strokes/min: </p><div class="formula"> Power ‚âà 5 √ó 12.5 √ó 60 / 2000 = 1.875 kW </div><h3> Applications </h3><p> Vertical and horizontal single-acting engines (1-5 kW) drove mills, sawmills, and pumps. Double-acting engines (10-100 kW) powered steam ships and locomotives. Fuel consumption: roughly 5-8 kg coal per hour per kW of output. </p></section><section id="micro-hydro"><h2> 4. Micro-Hydro Turbines </h2><p> Micro-hydro systems (<100 kW) use small turbines‚ÄîPelton wheels, Turgo turbines, and crossflow turbines‚Äîto generate power from streams with moderate to high head (vertical drop). Ideal for off-grid locations. </p><div class="diagram" role="figure" aria-label="Diagram"><svg viewbox='0 0 650 400' xmlns="http://www.w3.org/2000/svg" aria-label='‚ö° Energy Systems Compendium diagram 4'><path d='M 50 50 Q 100 150 150 300' fill="none" stroke="#16213e" stroke-width="25"></path><path d='M 50 50 Q 100 150 150 300' fill="none" opacity="0.6" stroke="#e94560" stroke-width="20"></path><path d='M 50 50 Q 100 150 150 300' fill="none" stroke="#53d8a8" stroke-width="2"></path><g id="pelton"><circle cx="300" cy="300" fill="none" r="60" stroke="#53d8a8" stroke-width="2"></circle><g fill="none" stroke="#e94560" stroke-width="2"><path d='M 360 300 L 370 295 L 375 305 Z' fill="#e94560" opacity="0.8"></path><path d='M 340 370 L 345 380 L 335 380 Z' fill="#e94560" opacity="0.7"></path><path d='M 240 370 L 230 380 L 235 380 Z' fill="#e94560" opacity="0.7"></path><path d='M 240 230 L 230 220 L 235 220 Z' fill="#e94560" opacity="0.7"></path><path d='M 350 250 L 358 242 L 365 252 Z' fill="#e94560" opacity="0.7"></path><path d='M 250 250 L 242 242 L 235 252 Z' fill="#e94560" opacity="0.7"></path></g><circle cx="300" cy="300" fill="#ffb347" r="6"></circle><line stroke="#aaa" stroke-width="5" x1="300" x2="300" y1="306" y2="380"></line></g><circle cx="190" cy="320" fill="#53d8a8" opacity="0.8" r="8"></circle><line stroke="#53d8a8" stroke-width="4" x1="180" x2="350" y1="320" y2="300"></line><text fill="#53d8a8" font-size="10" x="260" y="310"> High-pressure jet </text><rect fill="#0f3460" height="40" rx="3" stroke="#e94560" stroke-width="2" width="50" x="290" y="380"></rect><text fill="#e94560" font-size="11" font-weight="bold" text-anchor="middle" x="315" y="405"> Generator </text><path d='M 300 420 L 350 440 L 400 430' fill="none" stroke="#53d8a8" stroke-width="8"></path><rect fill="none" height="60" rx="4" stroke="#53d8a8" stroke-width="2" width="80" x="20" y="20"></rect><text fill="#53d8a8" font-size="10" text-anchor="middle" x="60" y="55"> Intake </text><line stroke="#aaa" stroke-width="2" x1="35" x2="35" y1="30" y2="75"></line><line stroke="#aaa" stroke-width="2" x1="45" x2="45" y1="30" y2="75"></line><line stroke="#aaa" stroke-width="2" x1="55" x2="55" y1="30" y2="75"></line><line stroke="#aaa" stroke-width="2" x1="65" x2="65" y1="30" y2="75"></line><text fill="#aaa" font-size="9" text-anchor="middle" x="60" y="20"> Trash </text><text fill="#aaa" font-size="9" text-anchor="middle" x="60" y="28"> Rack </text><text fill="#eee" font-size="12" font-weight="bold" x="325" y="30"> Micro-Hydro System: Pelton Wheel </text></svg></div><h3> Pelton Wheel Details </h3><p> The Pelton wheel is ideal for high-head (>30m), low-flow streams. A nozzle focuses water into a high-speed jet that strikes individual buckets arranged around the wheel rim. Each bucket splits the jet, redirecting water at 180¬∞. Very efficient (80-90%), compact, requires minimal penstock slope. </p><h3> Penstock Design </h3><div class="specs"><ul><li><strong> Pipe material: </strong> Steel (expensive), PVC (UV-sensitive outdoors), or high-density polyethylene (HDPE, best for off-grid). </li><li><strong> Diameter: </strong> Typically 50-150mm for micro-hydro. Size to keep water velocity 1-2 m/s (low friction loss). </li><li><strong> Slope: </strong> Following ground contour minimizes excavation. Avoid steep sections >45¬∞ (water accelerates uncontrollably). </li><li><strong> Support: </strong> Secure pipe with metal brackets every 2-3 meters, especially at bends. Prevent movement. </li><li><strong> Pressure: </strong> HDPE rated 6-10 bar for most applications. Pelton wheels operate at 3-7 bar intake pressure. </li></ul></div><h3> Head & Flow Measurement </h3><div class="formula"> Gross Head = Elevation drop from intake to turbine (meters) <br> Net Head = Gross Head - Penstock friction loss (typically 5-15%) <br> Flow = Bucket volume / Time to fill (m¬≥/s) </div><p><strong> Example: </strong> Stream 100m elevation drop, measured flow 0.015 m¬≥/s, penstock friction 10%: </p><div class="formula"> Net Head = 100 √ó 0.90 = 90 meters <br> Power = 1000 √ó 9.81 √ó 90 √ó 0.015 √ó 0.85 = 11,246 Watts ‚âà 11.2 kW </div><h3> Other Turbine Types </h3><div class="specs"><ul><li><strong> Turgo Turbine: </strong> Smaller buckets, higher rotational speed (more suitable for generators). Good for 20-200m head. </li><li><strong> Crossflow (Banki): </strong> Rectangular jet, buckets arranged in two rows. Less efficient than Pelton but simpler to build, handles 5-200m head, moderate flow. </li><li><strong> Turton (Toss): </strong> Similar to Pelton, buckets toss water upward. Slightly lower efficiency, easier to maintain. </li></ul></div><h3> Intake & Screening </h3><p> Install a trash rack (1-5 mm spacing) upstream to prevent leaves, twigs, and sediment from entering the penstock and clogging the nozzle. Regularly clean the rack during rainy season. A settling tank before the penstock reduces sand/silt, extending system life. </p></section><section id="wood-gasification"><h2> 5. Wood Gasification Systems </h2><p> Wood gasification thermally converts solid wood into combustible gas (producer gas or syngas) via partial combustion in low-oxygen conditions. The resulting gas can fuel engines, generators, heaters, and cooking appliances‚Äîcritical for off-grid energy independence. </p><div class="diagram" role="figure" aria-label="Diagram"><svg viewbox='0 0 600 500' xmlns="http://www.w3.org/2000/svg" aria-label='‚ö° Energy Systems Compendium diagram 5'><path d='M 150 80 L 180 150 L 200 400 L 100 400 L 120 150 Z' fill="none" stroke="#e94560" stroke-width="3"></path><path d='M 125 90 L 170 140 L 170 150 L 125 100 Z' fill="#ffb347" opacity="0.3"></path><text fill="#ffb347" font-size="10" font-weight="bold" x="135" y="125"> Drying </text><path d='M 120 150 L 180 150 L 200 250 L 100 250 Z' fill="#e94560" opacity="0.2"></path><text fill="#e94560" font-size="10" font-weight="bold" x="150" y="200"> Pyrolysis </text><path d='M 100 250 L 200 250 L 210 320 L 90 320 Z' fill="#e94560" opacity="0.4"></path><text fill="#ffb347" font-size="10" font-weight="bold" x="150" y="290"> Combustion </text><text fill="#ffb347" font-size="9" x="150" y="305"> (~1000¬∞C) </text><path d='M 90 320 L 210 320 L 200 400 L 100 400 Z' fill="#53d8a8" opacity="0.2"></path><text fill="#53d8a8" font-size="10" font-weight="bold" x="150" y="360"> Reduction </text><circle cx="70" cy="370" fill="none" r="8" stroke="#ffb347" stroke-width="2"></circle><line stroke="#ffb347" stroke-width="3" x1="40" x2="70" y1="370" y2="370"></line><text fill="#ffb347" font-size="9" font-weight="bold" x="35" y="390"> Air in </text><circle cx="230" cy="120" fill="none" r="8" stroke="#53d8a8" stroke-width="2"></circle><path d='M 185 110 Q 210 110 230 120' fill="none" stroke="#53d8a8" stroke-width="3"></path><text fill="#53d8a8" font-size="9" font-weight="bold" x="235" y="100"> Producer gas </text><circle cx="70" cy="410" fill="none" r="6" stroke="#aaa" stroke-width="2"></circle><text fill="#aaa" font-size="9" x="35" y="430"> Ash out </text><line stroke="#aaa" stroke-width="3" x1="90" x2="210" y1="320" y2="320"></line><path d='M 250 200 L 250 340' stroke="#e94560" stroke-width="2"></path><text fill="#e94560" font-size="9" x="265" y="220"> Hot </text><text fill="#ffb347" font-size="9" x="265" y="335"> Warm </text><path d='M 130 50 L 170 50 L 160 90 L 140 90 Z' fill="#16213e" stroke="#53d8a8" stroke-width="2"></path><text fill="#53d8a8" font-size="10" font-weight="bold" text-anchor="middle" x="150" y="85"> Wood </text><path d='M 240 120 L 290 120 L 290 200 L 310 200' stroke="#53d8a8" stroke-width="4"></path><rect fill="#0f3460" height="60" rx="3" stroke="#53d8a8" stroke-width="2" width="80" x="310" y="180"></rect><text fill="#53d8a8" font-size="10" text-anchor="middle" x="350" y="215"> Cooler & </text><text fill="#53d8a8" font-size="10" text-anchor="middle" x="350" y="228"> Filter </text><path d='M 390 210 L 450 210' stroke="#53d8a8" stroke-width="4"></path><rect fill="none" height="40" rx="3" stroke="#e94560" stroke-width="2" width="60" x="450" y="190"></rect><text fill="#e94560" font-size="9" font-weight="bold" text-anchor="middle" x="480" y="215"> Engine </text><text fill="#eee" font-size="13" font-weight="bold" text-anchor="middle" x="300" y="480"> Downdraft Gasifier with Producer Gas Flow </text></svg></div><h3> How Downdraft Gasifiers Work </h3><p> Wood enters the top hopper. In the drying zone, heat evaporates moisture. In the pyrolysis zone, wood decomposes into volatile gases and char. In the combustion zone, some char oxidizes, reaching ~1000¬∞C and providing heat. In the reduction zone, wood char reacts with CO‚ÇÇ and H‚ÇÇO (from combustion), producing CO and H‚ÇÇ gas. This producer gas exits the top and must be cooled and filtered before use. </p><h3> Producer Gas Composition </h3><table><tr><th scope="row"> Component </th><th scope="row"> Typical % </th><th scope="row"> Role </th></tr><tr><td> Nitrogen (N‚ÇÇ) </td><td> 40-50% </td><td> Inert, reduces power output </td></tr><tr><td> Carbon Monoxide (CO) </td><td> 20-30% </td><td> Primary fuel, combustible </td></tr><tr><td> Hydrogen (H‚ÇÇ) </td><td> 10-20% </td><td> Combustible, high energy density </td></tr><tr><td> Carbon Dioxide (CO‚ÇÇ) </td><td> 5-15% </td><td> Inert, reduction reactions </td></tr><tr><td> Methane (CH‚ÇÑ) </td><td> 2-5% </td><td> Combustible, requires hot reactor </td></tr></table><h3> Engine Conversion </h3><p> Producer gas fuels small internal combustion engines (modified carburetors), generators, and boilers. A typical small gasifier (0.5-2 kg wood/hour) generates ~1-5 kW thermal. Generator efficiency is ~20-30%, yielding 200-1500 W electrical. Fuel consumption: roughly 2-3 kg dry wood per kW-hour of electrical output. </p><h3> FEMA Gasifier (Emergency Design) </h3><p> The simple barrel gasifier uses a 55-gallon drum with an internal hot plate and partial air restriction. Less efficient than updraft/downdraft but easier to build. Feed wood chips or sawdust, regulate air (throttle), ignite with a hot coal. Gas quality improves after 15-30 minute warm-up. Suitable for cooking, heating, and small engines. </p><h3> Materials & Construction </h3><div class="specs"><ul><li><strong> Vessel: </strong> Steel pipe (SCH40), 200-300mm diameter for small gasifier. Lined with firebrick (drying/pyrolysis zones) and ceramic wool. </li><li><strong> Grate: </strong> Stainless steel or cast iron bars, 10-15mm spacing. Must withstand 900¬∞C+. </li><li><strong> Air supply: </strong> Blower fan or gravity air inlet. Flow rate 50-100 m¬≥/h per kg wood/h. </li><li><strong> Cooling: </strong> Water-cooled heat exchanger or long pipe with air cooling. Brings gas temp down to <100¬∞C before engine. </li><li><strong> Filters: </strong> Sand/gravel layer (removes tar), cyclone (removes particles), eventually engine air filter. </li></ul></div><h3> Imbert Downdraft Gasifier Design </h3><p> The Imbert gasifier is the most reliable and proven design for powering internal combustion engines. Named after Belgian inventor Georges Imbert, this design minimizes tar carryover and produces clean gas. </p><div class="specs"><ul><li><strong>Fuel: </strong>Hardwood charcoal or seasoned hardwood (oak, beech, hickory), 10-15mm chunks, moisture content <20%.</li><li><strong>Gasifier height: </strong>For 1-5 kW: 0.8-1.2m total height. Diameter: 150-250mm.</li><li><strong>Nozzle ring: </strong>Critical component. Located 150-200mm above grate, creates vortex for combustion zone. Must be cast iron or high-temp steel.</li><li><strong>Conical reduction zone: </strong>Narrows from 250mm to 150mm diameter. Contains char bed. Temperature 700-900¬∞C.</li><li><strong>Cyclonic hopper: </strong>Primary dust removal. Tangential inlet creates centrifugal separation. Removes ~80% of particles before further filtration.</li></ul></div><h3> Gasifier Filtration System (Complete Chain) </h3><p>Effective filtration is critical‚Äîtar and particles destroy engines. A multi-stage system is essential:</p><div class="specs"><ul><li><strong>Stage 1 - Cyclone: </strong>High-velocity separation. 800-1200 rpm spin creates centrifugal force. Removes particles >5 microns. Outlet duct velocity ~15-20 m/s.</li><li><strong>Stage 2 - Cooling & Condensation: </strong>Long copper or steel pipe (3-5 meters, 50-75mm diameter), inclined slightly downward. Natural convection or water-cooled jacket drops gas temp from 150¬∞C to 30-50¬∞C. Tar condenses and drains via bottom trap.</li><li><strong>Stage 3 - Hay Filter: </strong>Loosely packed straw or wood fiber in chamber. Gas passes through, traps remaining tar and micro-particles. Must be dry. Change every 50-100 operating hours.</li><li><strong>Stage 4 - Engine Air Filter: </strong>Standard automotive K&N or similar. Protects carburetor from final dust traces.</li><li><strong>Tar removal rate: </strong>Properly tuned system reduces tar to <0.1g/m¬≥ (engine safe is <0.5g/m¬≥).</li></ul></div><h3> Air-Fuel Mixing Valve (Gasifier to Engine) </h3><p>A manual mixing valve controls the ratio of producer gas to air entering the carburetor, essential for smooth engine operation:</p><div class="specs"><ul><li><strong>Valve type: </strong>Ball valve or butterfly valve with lever control for manual adjustment.</li><li><strong>Location: </strong>Between cooler outlet and engine intake (after hay filter).</li><li><strong>Fabrication: </strong>Brass or stainless steel body (1.5 inch diameter for small engines). Inlet from gasifier on one side, air inlet on second side (with filter), blended outlet on third side.</li><li><strong>Lever mechanism: </strong>Cam-operated ball valve. Full gas = lever up, full air = lever down. Mixture adjustment by throttle.</li><li><strong>Flow balance: </strong>At idle: ~20% gas, 80% air. At full load: ~60% gas, 40% air. Adjust mixture screw to minimize smoking and knocking.</li></ul></div><h3> Hydraulic Ram Pump (No External Power Water Pumping) </h3><p>The hydraulic ram (hydram) uses only flowing water to pump water uphill, no fuel or electricity required. Perfect for gravity-fed water systems on off-grid properties.</p><div class="specs"><ul><li><strong>Operating principle: </strong>Water flows down from source through a snifting valve into a drive pipe. When valve closes suddenly, pressure spike (water hammer effect) opens a one-way check valve, forcing water up delivery pipe. Valve reopens, cycle repeats. Frequency: 60-120 cycles/minute.</li><li><strong>Flow requirement: </strong>Minimum 1 GPM at 1 foot drop for practical operation. More flow = more pumping capability.</li><li><strong>Delivery height: </strong>Hydraulic advantage ratio: (Drop √ó 0.6 to 0.8) = delivery height. Example: 10 ft drop delivers 6-8 ft elevation gain.</li><li><strong>Materials: </strong>Cast iron or ductile iron body. Brass check valves. EPDM seals. Capacity 50-500 GPH depending on size.</li><li><strong>Installation: </strong>Requires clean water supply only. Feed pipe slopes downward to pump. Discharge pipe can go uphill. One-way check prevents backflow.</li><li><strong>Advantage: </strong>Completely passive. No moving external parts, no fuel. Runs 24/7 with minimal maintenance. Ideal for consistent water sources (springs, streams).</li></ul></div><h3> Stirling Engine Heat Differential Requirements </h3><p>Stirling engines convert heat differentials into mechanical power. They're ideal for waste heat recovery and biomass heating systems in off-grid settings.</p><div class="specs"><ul><li><strong>Minimum temperature differential: </strong>60¬∞C between hot and cold reservoirs for usable power output. 100¬∞C+ differential is efficient and practical.</li><li><strong>Hot side source: </strong>Biomass stove, solar concentrator, or industrial waste heat (200-400¬∞C range is ideal).</li><li><strong>Cold side sink: </strong>Ambient air or water circulation. Finned radiators increase cooling efficiency.</li><li><strong>Displacement: </strong>Typical small Stirling: 50-500cc displacement. Output: 0.5-5 kW depending on temperature and design.</li><li><strong>Efficiency formula: </strong>Carnot efficiency = 1 - (T_cold / T_hot) in Kelvin. Example: 400K hot / 300K cold = 25% max theoretical. Actual ~40-60% of Carnot for practical engines.</li><li><strong>Cylinder materials: </strong>Aluminum alloys for lower temps (<150¬∞C cold), cast iron for higher temps.</li><li><strong>Sealing: </strong>Critical. Graphite piston rings, PTFE seals. Leakage losses drop efficiency rapidly.</li><li><strong>Advantages: </strong>Nearly silent operation. Fuel flexibility (can burn any heat source). Long service life. Low maintenance.</li></ul></div><h3> Flywheel Energy Storage (Rotational Inertia Calculations) </h3><p>Flywheels store mechanical energy in rotational mass, smoothing power output and enabling burst power delivery from intermittent sources.</p><div class="specs"><ul><li><strong>Energy storage formula: </strong>E = 0.5 √ó I √ó œâ¬≤ (Joules). Where I = moment of inertia (kg‚ãÖm¬≤), œâ = angular velocity (rad/s).</li><li><strong>Moment of inertia: </strong>For a disk/wheel: I = 0.5 √ó M √ó R¬≤. For a hollow ring: I = M √ó R¬≤. Maximize R and M for energy storage.</li><li><strong>Example calculation: </strong>Steel wheel, 0.5m radius, 50 kg, at 1000 rpm (104.7 rad/s): I = 0.5 √ó 50 √ó 0.5¬≤ = 6.25 kg‚ãÖm¬≤. Energy = 0.5 √ó 6.25 √ó 104.7¬≤ ‚âà 34.4 kJ (enough to run a 1 kW load for ~34 seconds).</li><li><strong>Practical construction: </strong>Cast iron or steel. Minimum 100mm diameter. Mount on low-friction ball bearings. Balance precisely to avoid vibration.</li><li><strong>Safe rim speed: </strong>Limit surface speed to <100 m/s. For 0.5m radius: max ~1900 rpm. Check material stress limits.</li><li><strong>Power smoothing: </strong>Flywheels absorb power spikes and deliver steady output. Essential between intermittent power sources (micro-hydro, wind) and loads.</li><li><strong>Mechanical transmission: </strong>Belt or direct-drive shaft. Direct coupling is most efficient but requires alignment.</li></ul></div><h3> Thermosiphon Angle and Pipe Diameter Optimization </h3><p>Thermosiphons move water without pumps using density differences from heating. Critical for off-grid solar and biomass heating systems.</p><div class="specs"><ul><li><strong>Fundamental principle: </strong>Hot water is less dense than cold water. Pressure difference: ŒîP = œÅ √ó g √ó h √ó ŒîT/T. Where œÅ=water density, g=gravity, h=height difference, ŒîT=temp difference, T=absolute temp.</li><li><strong>Minimum height difference: </strong>For reliable natural convection, rise from collector to tank should be ‚â•1 meter. 2-3 meters is more practical for larger systems.</li><li><strong>Optimal pipe slope: </strong>Upward slope from collector to tank: 30-45¬∞ minimum. Steeper slopes (up to 60¬∞) increase flow slightly but increase cost. Horizontal pipes cause stagnation and stratification.</li><li><strong>Pipe diameter selection: </strong>Too large = slow flow, poor temperature differential. Too small = excessive friction loss. Rule of thumb: Flow velocity 0.3-0.6 m/s optimal. For 10-50 liter/hour system: use 12-16mm (¬Ω inch) copper or PEX pipe.</li><li><strong>Friction loss formula: </strong>ŒîP_friction = f √ó (L/D) √ó (œÅ √ó v¬≤ / 2). Where f=Darcy friction factor (~0.03 for smooth pipe), L=pipe length, D=diameter, v=velocity. Keep L/D ratio < 500 for passive systems.</li><li><strong>Tank placement: </strong>Maximum height above collector outlet ensures maximum natural convection. Insulate all piping to retain heat and reduce parasitic losses.</li><li><strong>Loop design: </strong>Separate hot and cold lines prevent mixing. Thermostatic valves prevent overheating in summer. Expansion tank accommodates volume changes.</li></ul></div></section><section id="biogas"><h2> 6. Biogas & Anaerobic Digesters </h2><p> Anaerobic digestion‚Äîbacterial decomposition in oxygen-free conditions‚Äîconverts organic waste (manure, food scraps, plant material) into methane-rich biogas and nutrient-rich fertilizer. A family-scale digester produces enough gas for cooking and heating. </p><div class="diagram" role="figure" aria-label="Diagram"><svg viewbox='0 0 700 400' xmlns="http://www.w3.org/2000/svg" aria-label='‚ö° Energy Systems Compendium diagram 6'><ellipse cx="250" cy="200" fill="none" rx="100" ry="120" stroke="#e94560" stroke-width="3"></ellipse><path d='M 150 90 Q 150 50 250 50 Q 350 50 350 90' fill="none" stroke="#e94560" stroke-width="3"></path><ellipse cx="250" cy="220" fill="#16213e" opacity="0.6" rx="85" ry="85"></ellipse><path d='M 170 200 Q 250 260 330 200' fill="#0f3460" opacity="0.4"></path><path d='M 80 150 L 140 180' stroke="#ffb347" stroke-width="6"></path><circle cx="140" cy="180" fill="none" r="5" stroke="#ffb347" stroke-width="2"></circle><text fill="#ffb347" font-size="10" font-weight="bold" x="70" y="160"> Inlet </text><text fill="#ffb347" font-size="9" x="70" y="173"> (feedstock) </text><path d='M 360 280 L 420 320' stroke="#aaa" stroke-width="6"></path><circle cx="360" cy="280" fill="none" r="5" stroke="#aaa" stroke-width="2"></circle><text fill="#aaa" font-size="10" x="420" y="320"> Outlet (digestate) </text><circle cx="250" cy="50" fill="none" r="8" stroke="#53d8a8" stroke-width="2"></circle><path d='M 250 58 L 250 90' stroke="#53d8a8" stroke-width="4"></path><text fill="#53d8a8" font-size="10" font-weight="bold" text-anchor="middle" x="250" y="35"> Biogas out </text><ellipse cx="250" cy="70" fill="none" rx="80" ry="25" stroke="#53d8a8" stroke-dasharray="5,3" stroke-width="2"></ellipse><text fill="#53d8a8" font-size="10" text-anchor="middle" x="250" y="75"> Gas storage </text><line stroke="#e94560" stroke-width="3" x1="350" x2="400" y1="130" y2="130"></line><circle cx="400" cy="130" fill="#e94560" r="4"></circle><text fill="#e94560" font-size="9" x="420" y="135"> Temp </text><text fill="#e94560" font-size="9" x="420" y="147"> 30-37¬∞C </text><path d='M 350 200 L 400 200' stroke="#ffb347" stroke-dasharray="3,3" stroke-width="4"></path><text fill="#ffb347" font-size="8" x="420" y="205"> (or 50-60¬∞C </text><text fill="#ffb347" font-size="8" x="420" y="215"> thermophilic) </text><path d='M 250 50 L 280 30 L 350 30' stroke="#53d8a8" stroke-width="4"></path><rect fill="none" height="30" rx="2" stroke="#e94560" stroke-width="2" width="50" x="350" y="15"></rect><circle cx="365" cy="30" fill="#ffb347" r="3"></circle><circle cx="385" cy="30" fill="#ffb347" r="3"></circle><text fill="#e94560" font-size="9" text-anchor="middle" x="375" y="50"> Cooking </text><text fill="#aaa" font-size="9" x="180" y="120"> Bacteria </text><text fill="#aaa" font-size="9" x="180" y="130"> active </text><line stroke="#ffb347" stroke-width="2" x1="320" x2="340" y1="60" y2="45"></line><circle cx="340" cy="45" fill="none" r="3" stroke="#ffb347" stroke-width="1"></circle><text fill="#eee" font-size="13" font-weight="bold" text-anchor="middle" x="350" y="380"> Fixed-Dome Anaerobic Biogas Digester </text></svg></div><h3> Anaerobic Digestion Process </h3><p> Bacteria in four metabolic stages decompose organic matter: hydrolysis (break down polymers), acidogenesis (produce organic acids), acetogenesis (convert acids to acetate), and methanogenesis (bacteria produce methane from acetate). The entire process occurs in the warm, sealed digester chamber. Retention time is typically 20-40 days depending on temperature and feedstock composition. </p><h3> Feedstock & Carbon-to-Nitrogen Ratio </h3><table><tr><th scope="row"> Material </th><th scope="row"> C:N Ratio </th><th scope="row"> Notes </th></tr><tr><td> Cow manure </td><td> 20:1 </td><td> Ideal; widely available </td></tr><tr><td> Pig manure </td><td> 7:1 </td><td> Rich in nitrogen; mix with high-C material </td></tr><tr><td> Food scraps </td><td> 15:1 </td><td> Avoid oils/fats; excellent for biogas </td></tr><tr><td> Straw / Hay </td><td> 40-80:1 </td><td> Low N; mix with manure (30% straw) </td></tr><tr><td> Grass / Clippings </td><td> 12:1 </td><td> Fresh is better; avoid treated grass </td></tr><tr><td> Mixed (optimum) </td><td> 25-30:1 </td><td> Equal parts manure + plant material </td></tr></table><h3> Temperature & Gas Yield </h3><div class="specs"><ul><li><strong> Mesophilic (25-37¬∞C): </strong> Most stable, slower. 0.2-0.3 m¬≥ biogas per kg organic matter fed. </li><li><strong> Thermophilic (45-65¬∞C): </strong> Faster digestion, higher gas yield. Needs heating; less stable if temperature drops. </li><li><strong> Typical household: </strong> 20-30 kg manure/day ‚Üí ~1-2 m¬≥ biogas ‚Üí 2-4 hours cooking gas per day. </li></ul></div><h3> Digester Construction </h3><div class="specs"><ul><li><strong> Size: </strong> 4-10 m¬≥ for a small farm (20-30 cattle). Retention time √ó daily feedstock volume. </li><li><strong> Material: </strong> Concrete (durable, 30+ years), brick/cement, or plastic (easier to build, less durable). </li><li><strong> Shape: </strong> Fixed-dome (underground, best for climate), plug-flow (long trench, simplest), or balloon bag (plastic, portable but fragile). </li><li><strong> Insulation: </strong> Bury digester or cover with earth/straw to maintain temperature (~30¬∞C requires 2-3¬∞C ambient + heat from decomposition). </li><li><strong> Inlet/outlet: </strong> Pipes extending into chamber. Inlet submerged to prevent gas escape. Outlet at different height to allow digestate removal. </li></ul></div><h3> Gas Storage & Safety </h3><p> Biogas is primarily methane (CH‚ÇÑ) with CO‚ÇÇ, N‚ÇÇ, and trace H‚ÇÇS. Storage via gas holder dome, flexible bag, or balloon tank. Always install pressure relief valve, flame trap (to prevent backflash), and gas tap with shutoff. Biogas is odorless; mercaptan "rotten egg" smell indicates proper fermentation or sulfur content. Use only in well-ventilated stoves/burners. </p><h3> End Products </h3><div class="specs"><ul><li><strong> Biogas: </strong> 50-70% methane, rest CO‚ÇÇ/N‚ÇÇ. Calorific value ~6 kWh/m¬≥. Burns in modified stoves, heaters, generators. </li><li><strong> Digestate: </strong> Excellent fertilizer. Nutrient-rich, odor-reduced compared to raw manure. Apply directly to fields. </li></ul></div></section><section id="charcoal"><h2> 7. Charcoal & Wood Fuel Production </h2><p> Charcoal‚Äîpartially carbonized wood‚Äîhas nearly double the energy density of wood, burns hotter and longer, and produces less smoke. Efficient charcoal production requires controlled pyrolysis in low-oxygen conditions. Combined with improved stoves, charcoal enables dependable off-grid cooking and heating. </p><div class="diagram" role="figure" aria-label="Diagram"><svg viewbox='0 0 700 450' xmlns="http://www.w3.org/2000/svg" aria-label='‚ö° Energy Systems Compendium diagram 7'><ellipse cx="200" cy="280" fill="none" rx="130" ry="90" stroke="#e94560" stroke-width="3"></ellipse><ellipse cx="200" cy="280" fill="#16213e" opacity="0.3" rx="125" ry="85"></ellipse><g opacity="0.5"><rect fill="#aaa" height="60" transform='rotate(5 155 250)' width="10" x="150" y="220"></rect><rect fill="#aaa" height="70" transform='rotate(-5 175 235)' width="10" x="170" y="200"></rect><rect fill="#aaa" height="80" width="10" x="190" y="190"></rect><rect fill="#aaa" height="75" transform='rotate(10 215 232)' width="10" x="210" y="195"></rect><rect fill="#aaa" height="65" transform='rotate(-8 240 242)' width="10" x="235" y="210"></rect></g><path d='M 80 240 Q 70 260 80 310 Q 200 360 320 310 Q 330 260 320 240' fill="#16213e" opacity="0.5"></path><path d='M 75 240 Q 70 280 80 320 Q 200 370 320 320 Q 330 280 325 240' fill="#aaa" opacity="0.3" stroke="#aaa" stroke-width="1"></path><circle cx="120" cy="300" fill="none" r="4" stroke="#ffb347" stroke-width="2"></circle><circle cx="160" cy="330" fill="none" r="4" stroke="#ffb347" stroke-width="2"></circle><circle cx="240" cy="330" fill="none" r="4" stroke="#ffb347" stroke-width="2"></circle><circle cx="280" cy="300" fill="none" r="4" stroke="#ffb347" stroke-width="2"></circle><text fill="#ffb347" font-size="10" x="140" y="360"> Air holes </text><circle cx="200" cy="165" fill="none" r="8" stroke="#e94560" stroke-width="2"></circle><line stroke="#e94560" stroke-width="2" x1="200" x2="200" y1="157" y2="140"></line><path d='M 195 140 L 200 145 L 205 140' fill="#e94560"></path><text fill="#e94560" font-size="10" x="220" y="145"> Smoke/gases </text><text fill="#aaa" font-size="9" x="50" y="250"> Soil cover </text><line stroke="#aaa" stroke-dasharray="3,2" stroke-width="1" x1="50" x2="75" y1="260" y2="270"></line><text fill="#ffb347" font-size="9" text-anchor="middle" x="200" y="280"> Reaction zone </text><text fill="#ffb347" font-size="8" text-anchor="middle" x="200" y="292"> ~400-500¬∞C </text><g><rect fill="#16213e" height="50" stroke="#e94560" stroke-width="2" width="50" x="420" y="280"></rect><text fill="#e94560" font-size="9" text-anchor="middle" x="445" y="310"> Firebox </text><rect fill="none" height="130" stroke="#e94560" stroke-width="3" width="40" x="470" y="200"></rect><text fill="#e94560" font-size="9" font-weight="bold" text-anchor="middle" x="490" y="250"> Riser </text><text fill="#ffb347" font-size="8" text-anchor="middle" x="490" y="262"> Hot zone </text><path d='M 510 200 L 540 200 L 540 240 L 570 240' stroke="#e94560" stroke-width="6"></path><path d='M 510 200 L 540 200 L 540 240 L 570 240' opacity="0.5" stroke="#ffb347" stroke-width="4"></path><ellipse cx="595" cy="240" fill="none" rx="30" ry="15" stroke="#e94560" stroke-width="2"></ellipse><text fill="#e94560" font-size="9" text-anchor="middle" x="595" y="245"> Pot </text><line stroke="#aaa" stroke-width="6" x1="410" x2="420" y1="310" y2="310"></line><text fill="#aaa" font-size="9" x="405" y="295"> Wood </text><text fill="#aaa" font-size="9" x="405" y="308"> feed </text><line stroke="#aaa" stroke-width="4" x1="570" x2="570" y1="240" y2="180"></line><line stroke="#aaa" stroke-width="4" x1="570" x2="600" y1="180" y2="180"></line><text fill="#aaa" font-size="9" x="620" y="185"> Exhaust </text></g><text fill="#eee" font-size="13" font-weight="bold" text-anchor="middle" x="200" y="30"> Earth Mound Charcoal Kiln (left) & Rocket Stove (right) </text></svg></div><h3> Charcoal Kiln Methods </h3><div class="specs"><ul><li><strong> Earth Mound Kiln: </strong> Stack wood vertically, cover with moist soil (5-10 cm), leave air holes at base and chimney at top. Light from top, cover top hole once burning. Produces 25-35% charcoal yield (3 kg wood ‚Üí ~1 kg charcoal). </li><li><strong> Metal Barrel Kiln: </strong> Pack wood in 55-gallon drum, seal with metal plate, punch small holes for air. Faster burn (~24 hours), more uniform product, but less yield due to heat loss. </li><li><strong> Pit Kiln: </strong> Dig shallow pit, line with clay, stack wood, cover. Lowest tech, slow, ~2 weeks production, but minimal materials cost. </li></ul></div><h3> Pyrolysis Process Stages </h3><table><tr><th scope="row"> Stage </th><th scope="row"> Temperature </th><th scope="row"> Duration </th><th scope="row"> Products </th></tr><tr><td> Drying </td><td> 20-100¬∞C </td><td> 2-4 hours </td><td> Water vapor released </td></tr><tr><td> Exothermic oxidation </td><td> 100-300¬∞C </td><td> 1-2 hours </td><td> Volatile gases, some char formation </td></tr><tr><td> Active carbonization </td><td> 300-400¬∞C </td><td> 3-6 hours </td><td> Maximum gas evolution, char structure forms </td></tr><tr><td> Stabilization </td><td> 400-500¬∞C+ </td><td> 2-8 hours </td><td> Charcoal hardens, volatile gases escape </td></tr></table><h3> Energy Density & Efficiency </h3><table><tr><th scope="row"> Fuel </th><th scope="row"> Energy Density (MJ/kg) </th><th scope="row"> Stove Efficiency </th></tr><tr><td> Dry wood (12% moisture) </td><td> 14-17 </td><td> 50-65% </td></tr><tr><td> Charcoal </td><td> 29-33 </td><td> 75-90% </td></tr><tr><td> Coal </td><td> 24-28 </td><td> 80%+ </td></tr></table><h3> Rocket Stove Design </h3><p> A rocket stove is a highly efficient wood-burning stove using a J-shaped or L-shaped combustion chamber with a vertical "riser." Air enters horizontally at low pressure, mixes with flames in the riser, and heats a pot placed on top. Key features: small firebox (reduces fuel size), tight air-fuel mixing, and high combustion temperature (>800¬∞C). Efficiency 75-90%; uses 50% less wood than open fires. Can be built from clay bricks, cinder blocks, or metal drums. </p><h3> Wood Fuel Preparation </h3><p> Split wood to 10-15 cm diameter, dry to <20% moisture (test: splits crack when hit, not spongy). Store under roof, off ground. One cord (128 cubic feet) of hardwood provides ~20-25 million BTU energy. A household needs 3-8 cords/year for heating depending on climate. Charcoal requires less storage space (1/3 volume for same energy) and produces no smoke indoors when properly prepared. </p></section><section id="solar-thermal"><h2> 8. Solar Thermal Systems </h2><p> Solar thermal energy directly heats water or air using sunlight. Systems range from simple thermosiphon water heaters to parabolic cookers, flat-plate collectors, and passive solar building design. Reliable off-grid heating with zero fuel consumption. </p><div class="diagram" role="figure" aria-label="Diagram"><svg viewbox='0 0 650 350' xmlns="http://www.w3.org/2000/svg" aria-label='‚ö° Energy Systems Compendium diagram 8'><circle cx="80" cy="40" fill="#ffb347" r="20"></circle><line stroke="#ffb347" stroke-width="2" x1="50" x2="30" y1="40" y2="40"></line><line stroke="#ffb347" stroke-width="2" x1="60" x2="45" y1="20" y2="5"></line><line stroke="#ffb347" stroke-width="2" x1="60" x2="45" y1="60" y2="75"></line><line stroke="#ffb347" stroke-width="2" x1="110" x2="125" y1="20" y2="5"></line><line stroke="#ffb347" stroke-width="2" x1="110" x2="125" y1="60" y2="75"></line><path d='M 120 120 L 280 100 L 290 180 L 110 200 Z' fill="none" stroke="#e94560" stroke-width="3"></path><path d='M 125 125 L 275 105 L 283 175 L 115 195 Z' fill="#16213e" opacity="0.6"></path><path d='M 122 122 L 278 102 L 287 172 L 112 192 Z' fill="#53d8a8" opacity="0.2" stroke="#53d8a8" stroke-dasharray="3,2" stroke-width="1"></path><line stroke="#aaa" stroke-width="2" x1="130" x2="270" y1="145" y2="125"></line><line stroke="#aaa" stroke-width="2" x1="140" x2="280" y1="160" y2="140"></line><line stroke="#aaa" stroke-width="2" x1="150" x2="280" y1="175" y2="155"></line><text fill="#aaa" font-size="9" x="180" y="155"> Absorber tubes </text><rect fill="none" height="120" rx="4" stroke="#e94560" stroke-width="2" width="80" x="350" y="80"></rect><ellipse cx="390" cy="80" fill="none" rx="40" ry="15" stroke="#e94560" stroke-width="2"></ellipse><text fill="#e94560" font-size="10" text-anchor="middle" x="390" y="145"> Hot Tank </text><text fill="#aaa" font-size="9" text-anchor="middle" x="390" y="158"> (insulated) </text><line stroke="#53d8a8" stroke-width="4" x1="330" x2="360" y1="200" y2="200"></line><text fill="#53d8a8" font-size="9" x="310" y="205"> Cold in </text><line stroke="#e94560" stroke-width="4" x1="430" x2="480" y1="80" y2="60"></line><text fill="#e94560" font-size="9" x="490" y="65"> Hot out </text><path d='M 360 190 L 200 210' stroke="#53d8a8" stroke-width="3"></path><text fill="#53d8a8" font-size="8" x="270" y="225"> Return (cool) </text><path d='M 280 100 L 350 90' stroke="#e94560" stroke-width="3"></path><text fill="#e94560" font-size="8" x="300" y="80"> Supply (hot) </text><g opacity="0.6" stroke="#ffb347" stroke-width="1"><path d='M 340 150 Q 320 120 330 100' fill="none" stroke-dasharray="3,2"></path><path d='M 360 190 Q 380 180 380 120' fill="none" stroke-dasharray="3,2"></path><text fill="#ffb347" font-size="9" x="300" y="165"> Circulation </text><text fill="#ffb347" font-size="8" x="300" y="177"> (no pump) </text></g><rect fill="none" height="20" rx="2" stroke="#53d8a8" stroke-width="2" width="30" x="520" y="100"></rect><line stroke="#53d8a8" stroke-width="2" x1="535" x2="535" y1="120" y2="150"></line><circle cx="530" cy="155" fill="#53d8a8" r="3"></circle><circle cx="540" cy="155" fill="#53d8a8" r="3"></circle><text fill="#53d8a8" font-size="9" x="575" y="110"> Shower </text><rect fill="none" height="15" rx="2" stroke="#53d8a8" stroke-width="2" width="30" x="520" y="200"></rect><path d='M 535 215 L 550 225' stroke="#53d8a8" stroke-width="2"></path><text fill="#53d8a8" font-size="9" x="570" y="210"> Hot tap </text><line stroke="#e94560" stroke-width="2" x1="480" x2="520" y1="60" y2="110"></line><line stroke="#e94560" stroke-width="2" x1="480" x2="520" y1="60" y2="207"></line><text fill="#eee" font-size="13" font-weight="bold" text-anchor="middle" x="325" y="320"> Solar Thermosiphon Hot Water System </text></svg></div><h3> Thermosiphon Solar Water Heater </h3><p> A flat-plate solar collector (glass-covered absorber panel with internal tubes) heats water. Hot water naturally rises to an insulated tank above the collector. As water cools, it sinks back down, creating continuous circulation without a pump. Requires 2-4 m¬≤ collector area per person, yields 30-50 liters hot water (40-50¬∞C) daily in good sun. Perfect for showers, washing, and kitchen use. </p><h3> Solar Cooker Types </h3><div class="specs"><ul><li><strong> Parabolic (sun oven): </strong> Curved reflector focuses sunlight on pot at focal point. Reaches 200-250¬∞C; can boil water in 10-15 minutes. Requires sun tracking every 15-30 min. </li><li><strong> Box cooker: </strong> Insulated wooden box with glass lid. Pot inside reaches 100-150¬∞C; slow cooking (2-3 hours for stew), but very simple and no tracking needed. </li><li><strong> Panel cooker: </strong> Reflective panels around a clear plastic cooking bag. Heats to 90-120¬∞C, works in partly cloudy weather, ultra-simple DIY construction. </li></ul></div><h3> Passive Solar Building Design </h3><p> Maximize winter solar gain and minimize summer overheating via proper building orientation, window placement, thermal mass (thick walls, water barrels), and ventilation. South-facing windows in northern hemisphere capture winter sun; overhangs shade summer sun. Thermal mass (concrete, stone, water) absorbs heat by day, releases it at night. Can reduce heating fuel needs by 50-70%. </p><h3> Solar Still for Water Purification </h3><p> A simple plastic-covered pit with sloped glass collects pure water via evaporation/condensation. Place salt/brackish water in pit, cover with clear plastic weighted at center, with outlet tube collecting condensation. Yields 1-2 liters per m¬≤ per day depending on climate. Removes bacteria, salt, heavy metals; slow but energy-free. </p></section><section id="wind-solar-electric"><h2> 9. Wind & Solar Electricity </h2><p> Modern small wind turbines and photovoltaic (PV) panels convert natural energy into electrical power. Combined with battery storage and charge controllers, they form the backbone of off-grid electrical systems. </p><h3> Small Wind Turbines </h3><div class="specs"><ul><li><strong> Rotor: </strong> 2-3 blades, 2-10m diameter. Blade pitch angle adjustable (0-20¬∞) to control speed in high winds. </li><li><strong> Tower height: </strong> 10-30m above obstructions. Wind speed roughly doubles from ground to 10m height. </li><li><strong> Power output: </strong> Rated power at 12 m/s wind. Typical 5 kW turbine rated at 12 m/s generates 2-8 kW average (depending on site wind resource). </li><li><strong> Generator: </strong> Permanent magnet or induction AC generator. Output rectified to DC for battery charging, or AC inverter to household loads. </li><li><strong> Blade pitch control: </strong> Mechanical spring-loaded pitch mechanism or active servo control keeps speed constant and overspeeding prevents runaway. </li></ul></div><h3> Photovoltaic (PV) Panels </h3><div class="specs"><ul><li><strong> Cell type: </strong> Monocrystalline (15-22% efficiency), polycrystalline (13-17%), or thin-film (10-15%). Monocrystalline preferred for space-limited off-grid systems. </li><li><strong> Panel rating: </strong> Typical 300-400W per 2 m¬≤ panel in full sun. Actual output varies with angle, cloud cover, temperature. </li><li><strong> Orientation: </strong> Tilt to latitude angle for annual average; face toward equator (south in northern hemisphere, north in southern). </li><li><strong> Voltage: </strong> Standard 24V or 48V systems (not 12V for power >2 kW; voltage drop too high). Can parallel multiple panels for current. </li><li><strong> Temperature coefficient: </strong> Output drops ~0.5% per ¬∞C above 25¬∞C. Allow ventilation behind panels to prevent overheating. </li></ul></div><h3> Charge Controllers </h3><p> A charge controller regulates power from wind turbine or solar array into battery, preventing overcharge. Two types: PWM (pulse-width modulation, simple, ~75% efficient) and MPPT (maximum power point tracking, 95%+ efficient). MPPT essential for off-grid systems using DC-DC converters to optimize panel output voltage. </p><h3> Battery Storage </h3><table><tr><th scope="row"> Battery Type </th><th scope="row"> Cycle Life </th><th scope="row"> DoD Limit* </th><th scope="row"> Cost ($/kWh) </th></tr><tr><td> Lead-acid (flooded) </td><td> 500-1000 </td><td> 50% </td><td> 150-250 </td></tr><tr><td> Lead-acid (sealed AGM) </td><td> 800-1500 </td><td> 60% </td><td> 200-300 </td></tr><tr><td> Lithium LiFePO‚ÇÑ </td><td> 3000-5000 </td><td> 90% </td><td> 400-600 </td></tr></table><p> *DoD = Depth of Discharge. Safe discharge limit before damage. </p><h3> Inverters </h3><p> An inverter converts DC power (from battery) to AC power (110/220V) for household loads. Two types: modified sine wave (cheaper, <80% efficient) and pure sine wave (>90% efficient, required for sensitive electronics). Oversized inverters (150-200% of peak load) handle startup inrush currents. Critical for off-grid systems powering refrigerators, pumps, and power tools. </p><h3> System Sizing Example </h3><p><strong> Goal: </strong> Off-grid cabin with daily energy use 5 kWh, 3 days autonomy (bad weather). </p><div class="formula"> Battery capacity = 5 kWh √ó 3 days / 0.6 DoD = 25 kWh (Using 60% DoD for lead-acid; 90% for LiFePO‚ÇÑ = 16.7 kWh) <br><br> Solar array (sunny location, 4 peak sun hours average): Array size = 5 kWh / 4 hours √ó 1.3 (loss factor) ‚âà 1.6 kW = 4-5 PV panels <br><br> Wind turbine (if average wind >5 m/s): Can reduce solar requirement to 1 kW if turbine rated 5 kW </div></section><section id="human-animal-power"><h2> 10. Human & Animal Power </h2><p> Muscle power‚Äîhuman legs, arms, and animals‚Äîprovides reliable off-grid energy when solar/wind is unavailable or supplementary power is needed. Historically dominant for mills, wells, and mechanical work. </p><h3> Human Power Output </h3><table><tr><th scope="row"> Activity </th><th scope="row"> Power Output (Watts) </th><th scope="row"> Duration </th></tr><tr><td> Sustained pedaling (bicycle) </td><td> 75-150 </td><td> Hours </td></tr><tr><td> Sprint pedaling </td><td> 400-1200 </td><td> Seconds </td></tr><tr><td> Treadmill walking (brisk) </td><td> 100-200 </td><td> Hours </td></tr><tr><td> Rope pulling/hauling </td><td> 50-150 </td><td> Sustained </td></tr><tr><td> Arm cranking </td><td> 50-100 </td><td> Hours </td></tr></table><h3> Bicycle Generator </h3><p> Attach a small DC generator (50-200W rated) to bicycle wheel or crank. Healthy person cycling 2 hours daily yields ~15-30 Wh energy. Sufficient for LED lights, phone charging, radio. Multiple people on rotation increases output. Mechanical energy easily scaled to any load via pulley systems. </p><h3> Treadmill Power System </h3><p> Walking or running on motorized treadmill drives belt and roller. Attach generator directly to motor shaft. Output: 150-300W continuous from vigorous walking/light running. Can power small tools, chargers, or energy storage. Less efficient than cycling but uses legs (larger muscles). </p><h3> Animal Power (Horses, Oxen, Mules) </h3><div class="specs"><ul><li><strong> Horse: </strong> Sustained 1 kW (continuous), peak 5-7 kW (brief). Can work 4-8 hours daily at moderate pace. </li><li><strong> Ox: </strong> 0.5-0.7 kW sustained (slower, stronger), excellent for heavy pulling/plowing. </li><li><strong> Mule: </strong> 0.7-1 kW, more tireless and sure-footed than horse. </li></ul></div><h3> Horse-Powered Machinery </h3><p> A "horse gin" (gear-driven system) or treadmill converts animal motion to rotational power for pumps, mills, winnowers, and threshers. Treadmill diameter 4-6m, animal walks inside on sloped tread. Gear reduction (typically 4:1 to 8:1) increases torque on main shaft. Historic standard: 1 horsepower defined as 746 watts (power of draft horse at sustainable work rate). </p><h3> Human Power Efficiency & Sustainability </h3><p> Average person requires ~2000 kcal/day food energy. Generating 100W continuously for 4 hours yields 400 Wh electrical energy. Muscle efficiency ~25%, so 100W useful output requires ~400W metabolic rate. Food/energy cost: high, but human power is portable, requires no external fuel in true off-grid context, and keeps people fit. Best combined with other renewable sources, not primary power. </p></section><section id="fuel-comparison"><h2> 11. Fuel Energy Density Comparison </h2><p> Choosing the right fuel for off-grid systems depends on local availability, storage stability, conversion efficiency, and application. This table compares energy density and practical use of all major fuel types. </p><table><tr><th scope="row"> Fuel </th><th scope="row"> Energy Density (MJ/kg) </th><th scope="row"> Energy Density (BTU/lb) </th><th scope="row"> Efficiency* </th><th scope="row"> Notes </th></tr><tr><td> Dry wood (12% H‚ÇÇO) </td><td> 14.5-17 </td><td> 6,200-7,300 </td><td> 50-65% </td><td> Renewable, abundant, needs drying/storage </td></tr><tr><td> Charcoal </td><td> 29-33 </td><td> 12,500-14,200 </td><td> 75-90% </td><td> 2√ó wood energy, burns hot and clean </td></tr><tr><td> Coal (bituminous) </td><td> 24-28 </td><td> 10,300-12,000 </td><td> 70-80% </td><td> Dense, long storage, carbon-intensive </td></tr><tr><td> Peat </td><td> 10-12 </td><td> 4,300-5,100 </td><td> 40-50% </td><td> Lower energy than coal, available where abundant </td></tr><tr><td> Ethanol (fuel grade) </td><td> 26.7 </td><td> 11,500 </td><td> 85-95% </td><td> Fermented, engine fuel, can be produced locally </td></tr><tr><td> Biodiesel </td><td> 37 </td><td> 16,000 </td><td> 85-95% </td><td> Plant oil-based, diesel engine compatible </td></tr><tr><td> Biogas (methane) </td><td> 50 (gas, 1 kg = 1.27 m¬≥) </td><td> 21,500 (gas) </td><td> 70-85% </td><td> From digesters, gaseous, clean, ~6 kWh/m¬≥ </td></tr><tr><td> Animal dung (dried) </td><td> 13-15 </td><td> 5,600-6,500 </td><td> 40-50% </td><td> Renewable from livestock, lower quality than charcoal </td></tr><tr><td> Hydrogen (ideal) </td><td> 142 </td><td> 61,000 </td><td> 80%+ </td><td> Ultimate clean fuel, hard to produce/store off-grid </td></tr></table><p> *Efficiency = typical conversion to useful heat/power (furnace, engine, stove) </p><h3> Energy Density vs. Practical Use </h3><p> High energy density (joules per kg) matters for transport and storage. Charcoal stores 2√ó the energy of wood in half the volume, crucial for limited space. However, availability, harvest time, and conversion technology determine actual fuel choice. In a true off-grid scenario: wood is abundant but seasonal; charcoal requires production investment but stores year-round; biogas leverages livestock waste continuously; small quantities of preserved alcohol/biodiesel provide dense emergency fuel. </p><h3> Caloric Values (Quick Reference) </h3><div class="specs"><ul><li> 1 kg dry wood ‚âà 4.5-5.5 kWh thermal energy </li><li> 1 kg charcoal ‚âà 9-11 kWh thermal energy </li><li> 1 liter biodiesel ‚âà 11 kWh thermal energy </li><li> 1 m¬≥ biogas ‚âà 6 kWh thermal energy </li><li> 1 kg coal ‚âà 7-8 kWh thermal energy </li><li> 1 liter ethanol ‚âà 7.5 kWh thermal energy </li></ul></div><h3> Off-Grid Energy Strategy </h3><p> A resilient off-grid system layers multiple fuels: solar/wind electricity (primary), wood for heating/cooking (seasonal primary), charcoal (backup heat, high density), biogas from livestock (continuous small power), human/animal power (emergency mechanical), and preserved alcohol/biodiesel (dense emergency reserve). Diversification ensures continuity when one source fails seasonally or unexpectedly. </p></section><section id="energy-comparison" style='margin: 30px 0;'><div style='background: var(--surface); padding: 20px; border-radius: 8px; border: 2px solid var(--accent2);'><h3 style='color: var(--accent2); margin-top: 0;'>‚öñÔ∏è Energy Systems Comparison</h3><div style='margin-bottom: 15px; display: flex; gap: 10px; flex-wrap: wrap;'><button onclick="sortEnergyTable('power')" style='padding: 8px 16px; background: var(--accent2); color: var(--bg); border: none; border-radius: 4px; cursor: pointer; font-weight: bold;'>By Power Output</button><button onclick="sortEnergyTable('difficulty')" style='padding: 8px 16px; background: var(--accent2); color: var(--bg); border: none; border-radius: 4px; cursor: pointer; font-weight: bold;'>By Build Difficulty</button><button onclick="sortEnergyTable('reliability')" style='padding: 8px 16px; background: var(--accent2); color: var(--bg); border: none; border-radius: 4px; cursor: pointer; font-weight: bold;'>By Reliability</button><button onclick="resetEnergyTable()" style='padding: 8px 16px; background: var(--muted); color: var(--bg); border: none; border-radius: 4px; cursor: pointer; font-weight: bold;'>Reset</button></div><div style='overflow-x: auto;'><table id="energy-table" style='width: 100%; border-collapse: collapse; min-width: 600px;'><thead><tr style='background: var(--accent2); color: var(--bg); font-weight: bold;'><th style='padding: 12px; text-align: left; border: 1px solid var(--border);' scope="col">System</th><th style='padding: 12px; text-align: center; border: 1px solid var(--border);' scope="col">Power Output</th><th style='padding: 12px; text-align: center; border: 1px solid var(--border);' scope="col">Build Difficulty (1-5)</th><th style='padding: 12px; text-align: left; border: 1px solid var(--border);' scope="col">Reliability</th><th style='padding: 12px; text-align: left; border: 1px solid var(--border);' scope="col">Maintenance</th><th style='padding: 12px; text-align: left; border: 1px solid var(--border);' scope="col">Best Climate</th><th style='padding: 12px; text-align: left; border: 1px solid var(--border);' scope="col">Initial Cost</th></tr></thead><tbody><tr data-power="225" data-difficulty="3" data-reliability="2" style='background: var(--card); border: 1px solid var(--border);'><td style='padding: 12px; border: 1px solid var(--border); font-weight: bold;'>Solar Panel</td><td style='padding: 12px; text-align: center; border: 1px solid var(--border);'>50-400W per panel</td><td style='padding: 12px; text-align: center; border: 1px solid var(--border); color: var(--accent);'>3</td><td style='padding: 12px; border: 1px solid var(--border);'>Moderate (weather dependent)</td><td style='padding: 12px; border: 1px solid var(--border);'>Low</td><td style='padding: 12px; border: 1px solid var(--border);'>Sunny/arid</td><td style='padding: 12px; border: 1px solid var(--border);'>High</td></tr><tr data-power="5100" data-difficulty="4" data-reliability="4" style='background: var(--bg); border: 1px solid var(--border);'><td style='padding: 12px; border: 1px solid var(--border); font-weight: bold;'>Micro Hydro</td><td style='padding: 12px; text-align: center; border: 1px solid var(--border);'>200W-10kW</td><td style='padding: 12px; text-align: center; border: 1px solid var(--border); color: var(--accent);'>4</td><td style='padding: 12px; border: 1px solid var(--border);'>Very High (continuous)</td><td style='padding: 12px; border: 1px solid var(--border);'>Medium</td><td style='padding: 12px; border: 1px solid var(--border);'>Year-round water</td><td style='padding: 12px; border: 1px solid var(--border);'>Medium</td></tr><tr data-power="2550" data-difficulty="4" data-reliability="3" style='background: var(--card); border: 1px solid var(--border);'><td style='padding: 12px; border: 1px solid var(--border); font-weight: bold;'>Wind Turbine</td><td style='padding: 12px; text-align: center; border: 1px solid var(--border);'>100W-5kW</td><td style='padding: 12px; text-align: center; border: 1px solid var(--border); color: var(--accent);'>4</td><td style='padding: 12px; border: 1px solid var(--border);'>Variable (wind dependent)</td><td style='padding: 12px; border: 1px solid var(--border);'>High</td><td style='padding: 12px; border: 1px solid var(--border);'>Windy/coastal</td><td style='padding: 12px; border: 1px solid var(--border);'>Medium</td></tr><tr data-power="3000" data-difficulty="3" data-reliability="2" style='background: var(--bg); border: 1px solid var(--border);'><td style='padding: 12px; border: 1px solid var(--border); font-weight: bold;'>Biogas</td><td style='padding: 12px; text-align: center; border: 1px solid var(--border);'>1-5kW</td><td style='padding: 12px; text-align: center; border: 1px solid var(--border); color: var(--accent);'>3</td><td style='padding: 12px; border: 1px solid var(--border);'>Moderate (requires feedstock)</td><td style='padding: 12px; border: 1px solid var(--border);'>Medium</td><td style='padding: 12px; border: 1px solid var(--border);'>Warm climates</td><td style='padding: 12px; border: 1px solid var(--border);'>Low</td></tr><tr data-power="12500" data-difficulty="5" data-reliability="3" style='background: var(--card); border: 1px solid var(--border);'><td style='padding: 12px; border: 1px solid var(--border); font-weight: bold;'>Wood Gasifier</td><td style='padding: 12px; text-align: center; border: 1px solid var(--border);'>5-20kW</td><td style='padding: 12px; text-align: center; border: 1px solid var(--border); color: var(--accent);'>5</td><td style='padding: 12px; border: 1px solid var(--border);'>Good (fuel dependent)</td><td style='padding: 12px; border: 1px solid var(--border);'>High</td><td style='padding: 12px; border: 1px solid var(--border);'>Forested areas</td><td style='padding: 12px; border: 1px solid var(--border);'>Low</td></tr><tr data-power="25000" data-difficulty="5" data-reliability="3" style='background: var(--bg); border: 1px solid var(--border);'><td style='padding: 12px; border: 1px solid var(--border); font-weight: bold;'>Steam Engine</td><td style='padding: 12px; text-align: center; border: 1px solid var(--border);'>1-50kW</td><td style='padding: 12px; text-align: center; border: 1px solid var(--border); color: var(--accent);'>5</td><td style='padding: 12px; border: 1px solid var(--border);'>Good (fuel dependent)</td><td style='padding: 12px; border: 1px solid var(--border);'>Very High</td><td style='padding: 12px; border: 1px solid var(--border);'>Any</td><td style='padding: 12px; border: 1px solid var(--border);'>Medium</td></tr><tr data-power="2750" data-difficulty="3" data-reliability="4" style='background: var(--card); border: 1px solid var(--border);'><td style='padding: 12px; border: 1px solid var(--border); font-weight: bold;'>Water Wheel</td><td style='padding: 12px; text-align: center; border: 1px solid var(--border);'>0.5-5kW</td><td style='padding: 12px; text-align: center; border: 1px solid var(--border); color: var(--accent);'>3</td><td style='padding: 12px; border: 1px solid var(--border);'>Very High (continuous)</td><td style='padding: 12px; border: 1px solid var(--border);'>Low</td><td style='padding: 12px; border: 1px solid var(--border);'>Year-round water</td><td style='padding: 12px; border: 1px solid var(--border);'>Low</td></tr><tr data-power="100" data-difficulty="2" data-reliability="4" style='background: var(--bg); border: 1px solid var(--border);'><td style='padding: 12px; border: 1px solid var(--border); font-weight: bold;'>Hand/Pedal Generator</td><td style='padding: 12px; text-align: center; border: 1px solid var(--border);'>50-150W</td><td style='padding: 12px; text-align: center; border: 1px solid var(--border); color: var(--accent);'>2</td><td style='padding: 12px; border: 1px solid var(--border);'>High (human powered)</td><td style='padding: 12px; border: 1px solid var(--border);'>Low</td><td style='padding: 12px; border: 1px solid var(--border);'>Any</td><td style='padding: 12px; border: 1px solid var(--border);'>Low</td></tr></tbody></table></div></div></section><script>
const energyTableData = [];
const energyTableOrder = [];
function initEnergyTable() {
 const tbody = document.querySelector('#energy-table tbody');
 tbody.querySelectorAll('tr').forEach(row => {
 energyTableData.push({
 element: row,
 power: parseInt(row.dataset.power),
 difficulty: parseInt(row.dataset.difficulty),
 reliability: parseInt(row.dataset.reliability)
 });
 energyTableOrder.push(row.cloneNode(true));
 });
}
function sortEnergyTable(sortBy) {
 const tbody = document.querySelector('#energy-table tbody');
 const rows = Array.from(tbody.querySelectorAll('tr'));
 rows.sort((a, b) => {
 let aVal, bVal;
 if (sortBy === 'power') {
 aVal = parseInt(a.dataset.power);
 bVal = parseInt(b.dataset.power);
 return bVal - aVal;
 } else if (sortBy === 'difficulty') {
 aVal = parseInt(a.dataset.difficulty);
 bVal = parseInt(b.dataset.difficulty);
 return aVal - bVal;
 } else if (sortBy === 'reliability') {
 aVal = parseInt(a.dataset.reliability);
 bVal = parseInt(b.dataset.reliability);
 return bVal - aVal;
 }
 return 0;
 });
 rows.forEach((row, index) => {
 row.style.animation = 'none';
 setTimeout(() => {
 row.style.animation = 'highlightRow 0.6s ease';
 }, index * 50);
 tbody.appendChild(row);
 });
}
function resetEnergyTable() {
 const tbody = document.querySelector('#energy-table tbody');
 tbody.innerHTML = '';
 energyTableOrder.forEach(row => {
 row.style.animation = 'none';
 tbody.appendChild(row.cloneNode(true));
 });
}
if (document.readyState === 'loading') {
 document.addEventListener('DOMContentLoaded', initEnergyTable);
} else {
 initEnergyTable();
}
</script><style>
@keyframes highlightRow {
 0% { background-color: var(--accent2); opacity: 1; }
 100% { background-color: var(--card); opacity: 1; }
}
</style><div class="common-mistakes"><h3> Common Mistakes </h3><ul><li> Add specific common mistakes here based on the guide content </li></ul></div><section id="troubleshooter-energy" style='background:var(--surface); border:2px solid var(--border); border-radius:8px; padding:25px; margin:40px 0;'><style>
 .troubleshoot-btn { display:block; width:100%; padding:12px; margin:8px 0; background:var(--card); color:var(--text); border:2px solid var(--border); border-radius:6px; cursor:pointer; font-size:1em; text-align:left; transition:all 0.2s; }
 .troubleshoot-btn:hover { border-color:var(--accent); background:var(--accent); color:white; }
 .troubleshoot-btn-back { padding:8px 16px; background:var(--surface); color:var(--accent2); border:1px solid var(--border); border-radius:4px; cursor:pointer; font-size:0.9em; margin-top:15px; }
 .troubleshoot-btn-back:hover { background:var(--card); }
 .ts-step { display:none; margin-bottom:20px; }
 .ts-step.active { display:block; }
 .ts-solution { background:var(--card); padding:20px; border-radius:6px; border-left:4px solid var(--accent2); }
 .ts-solution h4 { color:var(--accent); margin-bottom:10px; }
 .ts-solution ul { margin-left:20px; margin-top:10px; }
 .ts-solution li { margin:8px 0; }
 .ts-warning { background:rgba(255,179,71,0.1); padding:12px; border-radius:4px; margin-top:15px; color:var(--muted); border-left:3px solid var(--warning); }
 .ts-heading { color:var(--accent); font-size:1.3em; margin-bottom:15px; }
 </style><h3 class="ts-heading">No Power Output Troubleshooter</h3><p style='color:var(--muted); margin-bottom:20px;'>Diagnose why your energy system isn't producing power.</p><div id="ts-start-energy" class='ts-step active'><button class="troubleshoot-btn" onclick="tsEnergyQ1()">What type of system?</button></div><div id="ts-q1-solar" class="ts-step"><h4 style='color:var(--accent2); margin-bottom:15px;'>Solar Panel - No Output</h4><button class="troubleshoot-btn" onclick="tsEnergyConnection()">Check connections and damage</button><button class="troubleshoot-btn" onclick="tsEnergyShade()">Check for shading</button><button class="troubleshoot-btn" onclick="tsEnergyDirt()">Panel is dirty or covered</button><button class="troubleshoot-btn" onclick="tsEnergyStart()">Start Over</button></div><div id="ts-solution-solar-conn" class="ts-step"><div class="ts-solution"><h4>Connection Problems or Physical Damage</h4><p><strong>Problem:</strong> Panel isn't connected properly or has physical damage preventing current flow.</p><h4 style="margin-top:15px;">Immediate Actions:</h4><ul><li>Check connections: junction box, breakers, wiring. Should be tight and corrosion-free</li><li>Look for broken glass or cracks in panel</li><li>Check if cells appear discolored or damaged</li><li>Test with multimeter: open circuit voltage should be 36-45V per panel</li></ul><h4 style="margin-top:15px;">Repairs:</h4><ul><li>Tighten all connections - corrosion or loose bolts prevent current</li><li>Clean corroded contacts with baking soda and water</li><li>Repair wiring damage with appropriate gauge wire and connectors</li><li>Replace if multiple cells damaged - usually uneconomical to repair</li></ul><div class="ts-warning"><strong>Warning:</strong> Large cracks render panel useless. Work carefully with broken glass.</div></div><button class="troubleshoot-btn-back" onclick="tsEnergyStart()">Start Over</button></div><div id="ts-solution-solar-shade" class="ts-step"><div class="ts-solution"><h4>Shading Blocks Sunlight</h4><p><strong>Problem:</strong> Panel is in shade from trees, buildings, or terrain. Even partial shading reduces output dramatically.</p><h4 style="margin-top:15px;">Immediate Actions:</h4><ul><li>Identify shade source: tree, building, hill, or other obstruction</li><li>Check throughout day: sun angle changes with time</li><li>Reposition panel to unshaded location if possible</li></ul><h4 style="margin-top:15px;">Solutions:</h4><ul><li>Trim tree branches if you control them</li><li>Relocate panel to southern exposure with 6+ hours unobstructed sun</li><li>Install tracker to follow sun throughout day</li></ul><div class="ts-warning"><strong>Warning:</strong> Shade from 10% of panel surface reduces total output 25% or more. Avoid any shading if possible.</div></div><button class="troubleshoot-btn-back" onclick="tsEnergyStart()">Start Over</button></div><div id="ts-solution-solar-dirt" class="ts-step"><div class="ts-solution"><h4>Panel Dirty or Covered</h4><p><strong>Problem:</strong> Dust, dirt, pollen, snow, or other covering reduces light reaching cells.</p><h4 style="margin-top:15px;">Immediate Actions:</h4><ul><li>Inspect panel surface for dust, dirt, pollen, bird droppings, snow</li><li>Clean gently with soft brush and distilled water</li><li>For snow: brush off carefully or wait for melt</li><li>Clean when cool to avoid temperature shock</li></ul><h4 style="margin-top:15px;">Prevention:</h4><ul><li>Install at angle: tilt helps rain wash off dust</li><li>Position away from trees: reduces pollen and leaves</li><li>Schedule cleaning every 3-6 months or after dust storms</li></ul><div class="ts-warning"><strong>Warning:</strong> Light dust reduces output 15-25%. Keep panels reasonably clean.</div></div><button class="troubleshoot-btn-back" onclick="tsEnergyStart()">Start Over</button></div><div id="ts-q1-wind-water" class="ts-step"><h4 style='color:var(--accent2); margin-bottom:15px;'>Wind/Water Turbine - No Output</h4><button class="troubleshoot-btn" onclick="tsEnergyMech()">No mechanical movement</button><button class="troubleshoot-btn" onclick="tsEnergyElectric()">Spins but no electrical output</button><button class="troubleshoot-btn" onclick="tsEnergyStart()">Start Over</button></div><div id="ts-solution-mech-block" class="ts-step"><div class="ts-solution"><h4>Mechanical Blockage or Bearing Failure</h4><p><strong>Problem:</strong> Turbine blade won't spin. Mechanical failure in bearings or gearbox.</p><h4 style="margin-top:15px;">Immediate Actions:</h4><ul><li>Try rotating blade by hand: should spin freely with minimal resistance</li><li>Listen for grinding sounds: indicates bearing damage</li><li>Check for water/ice blockage: debris preventing rotation</li><li>Inspect bearings for corrosion or damage</li></ul><h4 style="margin-top:15px;">Repairs:</h4><ul><li>Clean out debris: may restore function</li><li>Bearing replacement: if seized, must be replaced</li><li>Check driveshaft: bent shaft requires replacement</li></ul><div class="ts-warning"><strong>Warning:</strong> Seized bearings are serious damage. Replace before shaft gets damaged.</div></div><button class="troubleshoot-btn-back" onclick="tsEnergyStart()">Start Over</button></div><div id="ts-solution-elec" class="ts-step"><div class="ts-solution"><h4>Electrical System Problem</h4><p><strong>Problem:</strong> Turbine spins but no electricity generated. Generator or rectifier failure.</p><h4 style="margin-top:15px;">Immediate Actions:</h4><ul><li>Test generator with multimeter: spin blade and check for voltage</li><li>Check connections: test each for continuity</li><li>Look for corrosion: clean with sandpaper</li><li>Check rectifier: may have failed diodes</li></ul><h4 style="margin-top:15px;">Repairs:</h4><ul><li>If generator failed: must be replaced</li><li>If rectifier failed: replace failed diodes or module</li><li>If corroded: clean and protect with corrosion inhibitor</li></ul><div class="ts-warning"><strong>Warning:</strong> Generator failure requires replacement - expensive.</div></div><button class="troubleshoot-btn-back" onclick="tsEnergyStart()">Start Over</button></div><div id="ts-q1-battery" class="ts-step"><h4 style='color:var(--accent2); margin-bottom:15px;'>Battery Not Charging</h4><button class="troubleshoot-btn" onclick="tsEnergyChargerFault()">Check charge controller</button><button class="troubleshoot-btn" onclick="tsEnergyBatteryVolt()">Battery voltage extremely low</button><button class="troubleshoot-btn" onclick="tsEnergyWiring()">Check wiring polarity</button><button class="troubleshoot-btn" onclick="tsEnergyStart()">Start Over</button></div><div id="ts-solution-charger" class="ts-step"><div class="ts-solution"><h4>Charge Controller Failure</h4><p><strong>Problem:</strong> Charge controller not operating. Battery won't charge.</p><h4 style="margin-top:15px;">Immediate Actions:</h4><ul><li>Check controller display: should show activity when generating power</li><li>Check voltage input to controller</li><li>Reset controller: unplug and reconnect after 30 seconds</li><li>Check fuses: controller may have blown fuses</li><li>Test with multimeter: check if output voltage present</li></ul><h4 style="margin-top:15px;">Repairs:</h4><ul><li>Replace fuses with same amperage</li><li>Replace controller if internal failure</li><li>Clean connections: corrosion prevents current</li></ul><div class="ts-warning"><strong>Warning:</strong> Without replacement, system cannot store energy.</div></div><button class="troubleshoot-btn-back" onclick="tsEnergyStart()">Start Over</button></div><div id="ts-solution-battery-volt" class="ts-step"><div class="ts-solution"><h4>Battery Dead or Too Low</h4><p><strong>Problem:</strong> Battery completely dead or voltage too low to accept charge.</p><h4 style="margin-top:15px;">Immediate Actions:</h4><ul><li>Measure battery voltage: charged 12V battery shows 13.8V</li><li>If below 10V: battery too damaged - may have dead cell</li><li>Try charging: some deeply discharged batteries recover with slow charge</li></ul><h4 style="margin-top:15px;">Prevention:</h4><ul><li>Never completely discharge lithium batteries</li><li>Maintain minimum 50% charge in lead-acid</li><li>Use charge controller with low-voltage cutoff</li></ul><div class="ts-warning"><strong>Warning:</strong> Dead batteries cannot be revived. Replacement is only option.</div></div><button class="troubleshoot-btn-back" onclick="tsEnergyStart()">Start Over</button></div><div id="ts-solution-wiring" class="ts-step"><div class="ts-solution"><h4>Wiring Problem - Polarity or Connection</h4><p><strong>Problem:</strong> Charging circuit broken due to incorrect polarity or loose connections.</p><h4 style="margin-top:15px;">Immediate Actions:</h4><ul><li>Check polarity: positive to positive, negative to negative</li><li>Check all connections: tighten loose bolts</li><li>Check for corrosion: clean with steel wool</li><li>Trace circuit: look for cuts or damaged wires</li></ul><h4 style="margin-top:15px;">Repairs:</h4><ul><li>Swap reversed wires if polarity wrong</li><li>Tighten connections</li><li>Replace corroded or damaged wires</li></ul><div class="ts-warning"><strong>Warning:</strong> Reversed polarity can destroy electronics. Always verify polarity first.</div></div><button class="troubleshoot-btn-back" onclick="tsEnergyStart()">Start Over</button></div><div id="ts-q1-no-load" class="ts-step"><h4 style='color:var(--accent2); margin-bottom:15px;'>Battery Charged But No Power to Load</h4><button class="troubleshoot-btn" onclick="tsEnergyInverter()">Check inverter</button><button class="troubleshoot-btn" onclick="tsEnergyFuse()">Check fuses</button><button class="troubleshoot-btn" onclick="tsEnergyVoltageDrop()">Check voltage at load</button><button class="troubleshoot-btn" onclick="tsEnergyStart()">Start Over</button></div><div id="ts-solution-inverter" class="ts-step"><div class="ts-solution"><h4>Inverter Failure</h4><p><strong>Problem:</strong> Inverter not converting DC to AC power.</p><h4 style="margin-top:15px;">Immediate Actions:</h4><ul><li>Check inverter display: should show activity</li><li>Verify battery connected to inverter</li><li>Test AC outlets with multimeter</li><li>Reset inverter or press reset button</li><li>Check fuse in inverter</li></ul><h4 style="margin-top:15px;">Repairs:</h4><ul><li>Replace fuse if blown</li><li>Replace inverter if internal failure</li><li>Clean connections</li></ul><div class="ts-warning"><strong>Warning:</strong> Inverter failure means no AC power. Replacement required.</div></div><button class="troubleshoot-btn-back" onclick="tsEnergyStart()">Start Over</button></div><div id="ts-solution-fuse" class="ts-step"><div class="ts-solution"><h4>Blown Fuse</h4><p><strong>Problem:</strong> Fuse protecting circuit has blown, breaking power delivery.</p><h4 style="margin-top:15px;">Immediate Actions:</h4><ul><li>Locate fuse holder near battery or inverter</li><li>Check fuse: if center is dark, fuse is blown</li><li>Replace with same amperage: never use higher</li><li>If immediately blows again: circuit has short or overload</li></ul><h4 style="margin-top:15px;">Prevention:</h4><ul><li>Always use correct amperage fuse</li><li>Keep spare fuses in multiple ratings</li></ul><div class="ts-warning"><strong>Warning:</strong> If fuse blows repeatedly, find and fix short first. Repeated replacements risk fire.</div></div><button class="troubleshoot-btn-back" onclick="tsEnergyStart()">Start Over</button></div><div id="ts-solution-voltage-drop" class="ts-step"><div class="ts-solution"><h4>Voltage Drop - Wire Too Small</h4><p><strong>Problem:</strong> Wire from battery to load too small, causing voltage loss.</p><h4 style="margin-top:15px;">Immediate Actions:</h4><ul><li>Measure voltage at load with multimeter</li><li>If below 10V (12V system): voltage drop is severe</li><li>Check wire connections: loose connections create resistance</li><li>Tighten all connections</li></ul><h4 style="margin-top:15px;">Repairs:</h4><ul><li>Replace with larger gauge wire for long runs</li><li>Shorten wire run if possible</li><li>Use thicker stranded cable</li><li>Clean corroded connections</li></ul><div class="ts-warning"><strong>Warning:</strong> Thin undersized wires can overheat and create fire hazard. Use proper gauge.</div></div><button class="troubleshoot-btn-back" onclick="tsEnergyStart()">Start Over</button></div><script>
 function tsEnergyStart() { document.getElementById('ts-start-energy').classList.add('active'); var ids = ['ts-q1-solar','ts-q1-wind-water','ts-q1-battery','ts-q1-no-load','ts-solution-solar-conn','ts-solution-solar-shade','ts-solution-solar-dirt','ts-solution-mech-block','ts-solution-elec','ts-solution-charger','ts-solution-battery-volt','ts-solution-wiring','ts-solution-inverter','ts-solution-fuse','ts-solution-voltage-drop']; ids.forEach(id => {var el = document.getElementById(id); if(el) el.classList.remove('active');}); }
 function tsEnergyQ1() { document.getElementById('ts-start-energy').classList.remove('active'); var types = ['ts-q1-solar','ts-q1-wind-water','ts-q1-battery','ts-q1-no-load']; var chosen = types[Math.floor(Math.random()*types.length)]; document.getElementById(chosen).classList.add('active'); }
 function tsEnergyConnection() { document.getElementById('ts-q1-solar').classList.remove('active'); document.getElementById('ts-solution-solar-conn').classList.add('active'); }
 function tsEnergyShade() { document.getElementById('ts-q1-solar').classList.remove('active'); document.getElementById('ts-solution-solar-shade').classList.add('active'); }
 function tsEnergyDirt() { document.getElementById('ts-q1-solar').classList.remove('active'); document.getElementById('ts-solution-solar-dirt').classList.add('active'); }
 function tsEnergyMech() { document.getElementById('ts-q1-wind-water').classList.remove('active'); document.getElementById('ts-solution-mech-block').classList.add('active'); }
 function tsEnergyElectric() { document.getElementById('ts-q1-wind-water').classList.remove('active'); document.getElementById('ts-solution-elec').classList.add('active'); }
 function tsEnergyChargerFault() { document.getElementById('ts-q1-battery').classList.remove('active'); document.getElementById('ts-solution-charger').classList.add('active'); }
 function tsEnergyBatteryVolt() { document.getElementById('ts-q1-battery').classList.remove('active'); document.getElementById('ts-solution-battery-volt').classList.add('active'); }
 function tsEnergyWiring() { document.getElementById('ts-q1-battery').classList.remove('active'); document.getElementById('ts-solution-wiring').classList.add('active'); }
 function tsEnergyInverter() { document.getElementById('ts-q1-no-load').classList.remove('active'); document.getElementById('ts-solution-inverter').classList.add('active'); }
 function tsEnergyFuse() { document.getElementById('ts-q1-no-load').classList.remove('active'); document.getElementById('ts-solution-fuse').classList.add('active'); }
 function tsEnergyVoltageDrop() { document.getElementById('ts-q1-no-load').classList.remove('active'); var opts = ['ts-solution-voltage-drop']; document.getElementById(opts[0]).classList.add('active'); }
 </script></section><div class="common-mistakes"><h3> Common Mistakes </h3><ul><li> Add specific common mistakes here based on the guide content </li></ul></div><div class="notes-section"><div class="notes-header"><span> My Notes </span><span class="notes-toggle"> ‚ñº </span></div><div class="notes-content"><textarea class="notes-textarea" id="guide-notes-text" placeholder='Add your personal notes here. They will be saved automatically.'></textarea><div class="notes-actions"><button class="save-notes-btn" id="save-notes-btn"> Save Notes </button><span class="notes-status" id="notes-status"></span></div></div></div><footer><p> Energy Systems Compendium v1.0 | Offline Reference for Off-Grid Living </p><p> Contains technical information for educational and survival purposes. Always prioritize safety and consult experienced practitioners before implementing complex systems. </p></footer></div><div style='max-width:900px;margin:2rem auto;padding:2rem;border-top:2px solid #2a2a4a'><h3 style="color:#e94560;font-size:0.85rem;text-transform:uppercase;letter-spacing:2px;margin-bottom:1rem"> Related Guides </h3><div style="display:flex;flex-wrap:wrap;gap:0.75rem"><a href="electricity.html" style='background:#16213e;color:#53d8a8;padding:0.5rem 1rem;border-radius:8px;text-decoration:none;font-size:0.9rem;border:1px solid #2a2a4a'> Electricity </a><a href="engineering-repair.html" style='background:#16213e;color:#53d8a8;padding:0.5rem 1rem;border-radius:8px;text-decoration:none;font-size:0.9rem;border:1px solid #2a2a4a'> Engineering & Repair </a><a href="physics-machines.html" style='background:#16213e;color:#53d8a8;padding:0.5rem 1rem;border-radius:8px;text-decoration:none;font-size:0.9rem;border:1px solid #2a2a4a'> Physics & Machines </a><a href="mining-materials.html" style='background:#16213e;color:#53d8a8;padding:0.5rem 1rem;border-radius:8px;text-decoration:none;font-size:0.9rem;border:1px solid #2a2a4a'> Mining & Materials </a><a href="forestry.html" style='background:#16213e;color:#53d8a8;padding:0.5rem 1rem;border-radius:8px;text-decoration:none;font-size:0.9rem;border:1px solid #2a2a4a'> Forestry </a></div></div><button id="back-to-top" title='Back to top'> ‚Üë </button><script>
 (function() {
 // Initialize theme from localStorage
 const savedTheme = localStorage.getItem('compendium-theme') || 'dark';
 document.documentElement.setAttribute('data-theme', savedTheme);
 // Theme toggle
 const themeToggle = document.getElementById('theme-toggle');
 if(themeToggle) {
 themeToggle.textContent = savedTheme === 'dark' ? '‚òÄÔ∏è' : 'üåô';
 themeToggle.addEventListener('click', function() {
 const current = document.documentElement.getAttribute('data-theme');
 const next = current === 'dark' ? 'light' : 'dark';
 document.documentElement.setAttribute('data-theme', next);
 localStorage.setItem('compendium-theme', next);
 themeToggle.textContent = next === 'dark' ? '‚òÄÔ∏è' : 'üåô';
 });
 }
 // Progress tracking
 const guideId = location.pathname.split('/').pop().replace('.html', '');
 const progress = JSON.parse(localStorage.getItem('compendium-progress') || '{}');
 const markBtn = document.getElementById('mark-read-btn');
 if(markBtn) {
 if(progress[guideId]) {
 markBtn.textContent = '‚úì Completed';
 markBtn.classList.add('completed');
 }
 markBtn.addEventListener('click', function() {
 progress[guideId] = {
 completed: true,
 date: new Date().toISOString()
 };
 localStorage.setItem('compendium-progress', JSON.stringify(progress));
 markBtn.textContent = '‚úì Completed';
 markBtn.classList.add('completed');
 });
 }
 // Notes system
 const notesKey = 'compendium-notes-' + guideId;
 const notesArea = document.getElementById('guide-notes-text');
 const savedNotes = localStorage.getItem(notesKey) || '';
 if(notesArea) {
 notesArea.value = savedNotes;
 }
 const saveNotesBtn = document.getElementById('save-notes-btn');
 if(saveNotesBtn) {
 saveNotesBtn.addEventListener('click', function() {
 if(notesArea) {
 localStorage.setItem(notesKey, notesArea.value);
 const status = document.getElementById('notes-status');
 if(status) {
 status.textContent = 'Saved!';
 setTimeout(function() {
 status.textContent = '';
 }, 2000);
 }
 }
 });
 }
 // Notes toggle
 const notesHeader = document.querySelector('.notes-header');
 const notesContent = document.querySelector('.notes-content');
 const notesToggle = document.querySelector('.notes-toggle');
 if(notesHeader) {
 notesHeader.addEventListener('click', function() {
 if(notesContent) {
 notesContent.classList.toggle('open');
 }
 if(notesToggle) {
 notesToggle.classList.toggle('open');
 }
 });
 }
 // Back to top
 const backToTop = document.getElementById('back-to-top');
 if(backToTop) {
 window.addEventListener('scroll', function() {
 backToTop.style.display = window.scrollY > 300 ? 'block' : 'none';
 });
 backToTop.addEventListener('click', function() {
 window.scrollTo({top: 0, behavior: 'smooth'});
 });
 }
})();
 </script><button id="back-to-top" title='Back to top'> ‚Üë </button><script>
// Bookmark system
(function() {
 const guideName = window.location.pathname.split('/').pop();
 const bookmarks = JSON.parse(localStorage.getItem('compendium-bookmarks') || '{}');
 // Add bookmark icons to all h2 elements
 document.querySelectorAll('h2').forEach((h2, i) => {
 const id = h2.id || 'section-' + i;
 if (!h2.id) h2.id = id;
 const key = guideName + '#' + id;
 const btn = document.createElement('button');
 btn.className = 'bookmark-star';
 btn.textContent = bookmarks[key] ? '‚òÖ' : '‚òÜ';
 btn.style.cssText = 'background:transparent;border:none;font-size:1.3em;cursor:pointer;color:' + (bookmarks[key] ? 'var(--accent)' : 'var(--muted)') + ';margin-left:10px;vertical-align:middle;';
 btn.onclick = function(e) {
 e.preventDefault();
 const bm = JSON.parse(localStorage.getItem('compendium-bookmarks') || '{}');
 if (bm[key]) { delete bm[key]; btn.textContent = '‚òÜ'; btn.style.color = 'var(--muted)'; }
 else { bm[key] = { guide: guideName, section: h2.textContent.replace('‚òÜ','').replace('‚òÖ','').trim(), timestamp: Date.now() }; btn.textContent = '‚òÖ'; btn.style.color = 'var(--accent)'; }
 localStorage.setItem('compendium-bookmarks', JSON.stringify(bm));
 };
 h2.appendChild(btn);
 });
 // Add floating bookmarks panel button
 const panelBtn = document.createElement('button');
 panelBtn.innerHTML = 'üîñ';
 panelBtn.title = 'View Bookmarks';
 panelBtn.style.cssText = 'position:fixed;bottom:70px;right:20px;width:50px;height:50px;border-radius:50%;background:var(--accent2);color:white;border:none;font-size:1.5em;cursor:pointer;z-index:998;box-shadow:0 2px 8px rgba(0,0,0,0.3);';
 panelBtn.onclick = function() {
 const bm = JSON.parse(localStorage.getItem('compendium-bookmarks') || '{}');
 const guideBookmarks = Object.entries(bm).filter(([k]) => k.startsWith(guideName));
 let panel = document.getElementById('bookmark-panel');
 if (panel) { panel.remove(); return; }
 panel = document.createElement('div');
 panel.id = 'bookmark-panel';
 panel.style.cssText = 'position:fixed;bottom:130px;right:20px;width:300px;max-height:400px;overflow-y:auto;background:var(--surface);border:2px solid var(--accent2);border-radius:8px;padding:15px;z-index:999;box-shadow:0 4px 12px rgba(0,0,0,0.3);';
 let html = '<h4 style="color:var(--accent2);margin:0 0 10px 0;">üîñ Bookmarks in This Guide</h4>';
 if (guideBookmarks.length === 0) html += '<p style="color:var(--muted);">No bookmarks yet. Click ‚òÜ next to any heading to bookmark it.</p>';
 else guideBookmarks.forEach(([key, val]) => {
 const sectionId = key.split('#')[1];
 html += '<a href="#'+sectionId+'" style="display:block;padding:8px;margin:4px 0;background:var(--card);border-radius:4px;color:var(--text);text-decoration:none;" onclick="document.getElementById(\'bookmark-panel\').remove();">‚òÖ '+val.section+'</a>';
 });
 html += '<button onclick="this.parentElement.remove()" style="margin-top:10px;padding:6px 12px;background:var(--card);color:var(--text);border:1px solid var(--border);border-radius:4px;cursor:pointer;width:100%;">Close</button>';
 panel.innerHTML = html;
 document.body.appendChild(panel);
 };
 document.body.appendChild(panelBtn);
})();
</script></main><script src="../shared/theme-sync.js"></script><script src="js/shared.js"></script></body></html>